



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/bdm_logo.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.2.0">
    
    
      
        <title>Build BioDynaMo - BioDynaMo Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.572ca0f0.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../assets/javascripts/modernizr.8c900955.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#building-biodynamo" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="BioDynaMo Developer Documentation" class="md-header-nav__button md-logo">
          
            <img src="../images/bdm_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                BioDynaMo Developer Documentation
              </span>
              <span class="md-header-nav__topic">
                Build BioDynaMo
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/BioDynaMo/biodynamo" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      BioDynaMo/biodynamo
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="BioDynaMo Developer Documentation" class="md-nav__button md-logo">
      
        <img src="../images/bdm_logo.png" width="48" height="48">
      
    </a>
    BioDynaMo Developer Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/BioDynaMo/biodynamo" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      BioDynaMo/biodynamo
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Build BioDynaMo
      </label>
    
    <a href="./" title="Build BioDynaMo" class="md-nav__link md-nav__link--active">
      Build BioDynaMo
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cmake-build-options" title="CMake Build Options" class="md-nav__link">
    CMake Build Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#further-cmake-command-line-parameters" title="Further CMake command line parameters:" class="md-nav__link">
    Further CMake command line parameters:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-targets" title="Build Targets" class="md-nav__link">
    Build Targets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c-code-style-related-build-targets" title="C++ Code Style Related Build Targets" class="md-nav__link">
    C++ Code Style Related Build Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation-related-build-targets" title="Documentation Related Build Targets" class="md-nav__link">
    Documentation Related Build Targets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#speed-up-installation-tests-with-a-local-biodynamo-lfs-copy" title="Speed Up Installation Tests with a Local BioDynaMo-LFS Copy" class="md-nav__link">
    Speed Up Installation Tests with a Local BioDynaMo-LFS Copy
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../code_quality/" title="Code Quality" class="md-nav__link">
      Code Quality
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contribute/" title="Contribute" class="md-nav__link">
      Contribute
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cmake-build-options" title="CMake Build Options" class="md-nav__link">
    CMake Build Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#further-cmake-command-line-parameters" title="Further CMake command line parameters:" class="md-nav__link">
    Further CMake command line parameters:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-targets" title="Build Targets" class="md-nav__link">
    Build Targets
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#c-code-style-related-build-targets" title="C++ Code Style Related Build Targets" class="md-nav__link">
    C++ Code Style Related Build Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation-related-build-targets" title="Documentation Related Build Targets" class="md-nav__link">
    Documentation Related Build Targets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#speed-up-installation-tests-with-a-local-biodynamo-lfs-copy" title="Speed Up Installation Tests with a Local BioDynaMo-LFS Copy" class="md-nav__link">
    Speed Up Installation Tests with a Local BioDynaMo-LFS Copy
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="building-biodynamo">Building BioDynaMo</h1>
<p>To build BioDynaMo from source execute the following commands:</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If you are a user please follow the installation instructions in our <a href="https://biodynamo.github.io/user/">user guide</a></p>
</div>
<div class="codehilite"><pre><span></span>git clone https://github.com/BioDynaMo/biodynamo
<span class="nb">cd</span> biodynamo

./prerequesites.sh
<span class="c1"># follow the instructions of the script:</span>
<span class="nb">source</span> &lt;path-to-bdm-installation&gt;/biodynamo-env.sh

mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
cmake .. <span class="o">&amp;&amp;</span> make -j4
make install
</pre></div>

<h2 id="cmake-build-options">CMake Build Options</h2>
<p>Our CMake build script uses a few options to influence the build process. They can be set as follows:
<div class="codehilite"><pre><span></span>cmake -Doption<span class="o">=</span>value ..
</pre></div>
The value for binary options is <code class="codehilite">on</code> or <code class="codehilite">off</code>.
If you change the value of these switches, you might have to delete <code class="codehilite">CMakeCache.txt</code> beforehand.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">test</code></td>
<td><code class="codehilite">on</code></td>
<td>build the test executables; precondition for e.g. <code class="codehilite">valgrind</code> and <code class="codehilite">coverage</code></td>
</tr>
<tr>
<td><code class="codehilite">dict</code></td>
<td><code class="codehilite">on</code></td>
<td>build ROOT dictionaries. These are compulsory to use backups. Turning them off reduces compilation time.</td>
</tr>
<tr>
<td><code class="codehilite">paraview</code></td>
<td><code class="codehilite">on</code></td>
<td>Enable visualization using ParaView. Visualization cannot be used if this switch is turned off.</td>
</tr>
<tr>
<td><code class="codehilite">cuda</code></td>
<td><code class="codehilite">off</code></td>
<td>enable CUDA code generation for GPU acceleration</td>
</tr>
<tr>
<td><code class="codehilite">opencl</code></td>
<td><code class="codehilite">off</code></td>
<td>enable OpenCL code generation for GPU acceleration</td>
</tr>
<tr>
<td><code class="codehilite">valgrind</code></td>
<td><code class="codehilite">on</code></td>
<td>enable memory leak checks</td>
</tr>
<tr>
<td><code class="codehilite">coverage</code></td>
<td><code class="codehilite">off</code></td>
<td>creates a make target to generate a html report indicating which parts of the code are tested by automatic tests</td>
</tr>
</tbody>
</table>
<h3 id="further-cmake-command-line-parameters">Further CMake command line parameters:</h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">CMAKE_CXX_FLAGS</code></td>
<td>specify additional compiler flags - e.g. <code class="codehilite">&quot;-mavx&quot;</code></td>
</tr>
<tr>
<td><code class="codehilite">CMAKE_BUILD_TYPE</code></td>
<td>specify the build type. Possible values are <code class="codehilite">Debug, Release, RelWithDebInfo, MinSizeRel</code></td>
</tr>
</tbody>
</table>
<h2 id="build-targets">Build Targets</h2>
<table>
<thead>
<tr>
<th>Target</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">test</code></td>
<td>executes all tests</td>
</tr>
<tr>
<td><code class="codehilite">check</code></td>
<td>executes all tests and shows test output on failure</td>
</tr>
<tr>
<td><code class="codehilite">clean</code></td>
<td>will clean all targets, also the external projects</td>
</tr>
<tr>
<td><code class="codehilite">bdmclean</code></td>
<td>will only clean the <code class="codehilite">biodynamo</code> and <code class="codehilite">runBiodynamoTests*</code> targets</td>
</tr>
<tr>
<td><code class="codehilite">testbdmclean</code></td>
<td>will only clean the <code class="codehilite">runBiodynamoTests*</code> target</td>
</tr>
<tr>
<td><code class="codehilite">doc</code></td>
<td>will generate the API, user and developer documentation in directory <code class="codehilite">build/doc</code>.</td>
</tr>
<tr>
<td><code class="codehilite">coverage</code></td>
<td>will execute the test target and generate a coverage report in <code class="codehilite">build/coverage</code>. Make sure that <code class="codehilite">gcov</code> and <code class="codehilite">lcov</code> are installed and configure cmake with <code class="codehilite">cmake -Dcoverage=on ..</code></td>
</tr>
<tr>
<td><code class="codehilite">coverage-build</code></td>
<td>same as <code class="codehilite">make coverage</code>, but builds it in a separate directory (<code class="codehilite">build/coverage</code>). Since building the coverage report requires different compiler flags, building it in a separate directory keeps the current build directory in good order.</td>
</tr>
</tbody>
</table>
<h3 id="c-code-style-related-build-targets">C++ Code Style Related Build Targets</h3>
<p>The following targets are only available if <code class="codehilite">clang-format</code>, <code class="codehilite">clang-tidy</code> and <code class="codehilite">git</code> are installed.</p>
<p>Build targets indicated with <code class="codehilite">*</code> always come in three different flavors.</p>
<ul>
<li><code class="codehilite">no-suffix</code>: executes the target on source files that changed compared to origin/master -- e.g. <code class="codehilite">make check-format</code></li>
<li><code class="codehilite">-staged</code>: executes the target on source files that have been staged -- e.g. <code class="codehilite">make check-format-staged</code></li>
<li><code class="codehilite">-all</code>: executes the target on all source files in the project -- e.g. <code class="codehilite">make check-format-all</code></li>
</ul>
<table>
<thead>
<tr>
<th>Target</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">check-format*</code></td>
<td>run clang-format on selected files. Fails if any file needs to be reformatted</td>
</tr>
<tr>
<td><code class="codehilite">show-format*</code></td>
<td>run clang-format on selected files and display differences</td>
</tr>
<tr>
<td><code class="codehilite">format*</code></td>
<td>run clang-format on selected files and update them in-place</td>
</tr>
<tr>
<td><code class="codehilite">check-tidy*</code></td>
<td>run clang-tidy on selected files. Fails if errors are found</td>
</tr>
<tr>
<td><code class="codehilite">show-tidy*</code></td>
<td>run clang-tidy on selected files and display errors.</td>
</tr>
<tr>
<td><code class="codehilite">tidy*</code></td>
<td>run clang-tidy on selected files and attempt to fix any warning automatically</td>
</tr>
<tr>
<td><code class="codehilite">check-cpplint*</code></td>
<td>run cpplint on selected files. Fails if errors are found and displays them.</td>
</tr>
<tr>
<td><code class="codehilite">check-submission</code></td>
<td>will build, run all tests, check formatting, code style, and generate documentation and coverage report</td>
</tr>
<tr>
<td><code class="codehilite">fix-submission</code></td>
<td>will attempt to fix the reported issues using <code class="codehilite">clang-format</code> and <code class="codehilite">clang-tidy</code>. Failing build, tests, compiler warnings, issues from cpplint and warnings from doxygen must be fixed manually. Also some <code class="codehilite">clang-tidy</code> issues cannot be resolved automatically</td>
</tr>
</tbody>
</table>
<h3 id="documentation-related-build-targets">Documentation Related Build Targets</h3>
<table>
<thead>
<tr>
<th>Target</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">doc</code></td>
<td>will generate the API, user and developer documentation in directory <code class="codehilite">build/doc</code></td>
</tr>
<tr>
<td><code class="codehilite">live-dev-guide</code> and <code class="codehilite">live-user-guide</code></td>
<td>starts a local web server so you can immediately view the documentation in the browser. The website is automatically reloaded if you change a source file.</td>
</tr>
</tbody>
</table>
<h2 id="speed-up-installation-tests-with-a-local-biodynamo-lfs-copy">Speed Up Installation Tests with a Local BioDynaMo-LFS Copy</h2>
<p>The installation scripts fetch large precompiled dependencies like paraview
or root from biodynamo's large file storage (LFS). To enable faster builds you can download the whole
LFS and tell BioDynaMo to access the local version instead. This is done with the
environmental flag <code class="codehilite">BDM_LOCAL_LFS</code>. Use an absolute path to the directory
that contains the local copy.</p>
<div class="codehilite"><pre><span></span><span class="nb">export</span> <span class="nv">BDM_LOCAL_LFS</span><span class="o">=</span>/path/to/local/lfs
</pre></div>

<p>If you want to download the files from remote LFS again execute:</p>
<div class="codehilite"><pre><span></span><span class="nb">unset</span> BDM_LOCAL_LFS
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>At the moment there is no check if the local copy is in synch with
remote. You have to ensure that yourself!</p>
</div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Welcome" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Welcome
              </span>
            </div>
          </a>
        
        
          <a href="../code_quality/" title="Code Quality" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Code Quality
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; The BioDynaMo Project. All Rights Reserved.
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="http://biodynamo.web.cern.ch" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/BioDynaMo/biodynamo" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b41f3d20.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>