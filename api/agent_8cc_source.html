<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BioDynaMo: core/agent/agent.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BioDynaMo
   &#160;<span id="projectnumber">v0.9-49-gd5c54fe9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li><li class="navelem"><a class="el" href="dir_38a3a31c3d1487b433ec02088da4dbcb.html">agent</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">agent.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="agent_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Copyright (C) 2021 CERN &amp; Newcastle University for the benefit of the</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// BioDynaMo collaboration. All Rights Reserved.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// See the LICENSE file distributed with this work for details.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// See the NOTICE file distributed with this work for additional information</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// regarding copyright ownership.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// -----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="agent_8h.html">core/agent/agent.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="new__agent__event_8h.html">core/agent/new_agent_event.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="behavior_8h.html">core/behavior/behavior.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="environment_8h.html">core/environment/environment.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="in__place__exec__ctxt_8h.html">core/execution_context/in_place_exec_ctxt.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="resource__manager_8h.html">core/resource_manager.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="simulation_8h.html">core/simulation.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">core/util/log.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="macros_8h.html">core/util/macros.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="root_8h.html">core/util/root.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="type_8h.html">core/util/type.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="namespacebdm.html">   39</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacebdm.html">bdm</a> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a42bccface11711f7e18cffff9cedcd1e">   41</a></span>&#160;<a class="code" href="classbdm_1_1Agent.html#a42bccface11711f7e18cffff9cedcd1e">Agent::Agent</a>() {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#afd2c00a991e2f69e2fd303bc9074ccc6">uid_</a> = <a class="code" href="classbdm_1_1Simulation.html#a67bdfef8ac06a741e287d73d2d941c63">Simulation::GetActive</a>()-&gt;<a class="code" href="classbdm_1_1Simulation.html#a7de7f45dc18c40554adfc9cca4a84935">GetAgentUidGenerator</a>()-&gt;<a class="code" href="classbdm_1_1AgentUidGenerator.html#ad6e6dada9933469cb85a95f5815ca483">GenerateUid</a>();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a5c9ccf48e4f5e18af6218f6547bb9b7c">   45</a></span>&#160;<a class="code" href="classbdm_1_1Agent.html#a42bccface11711f7e18cffff9cedcd1e">Agent::Agent</a>(TRootIOCtor* io_ctor) {}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a214080998d13f0aaa94704fc1962a00a">   47</a></span>&#160;<a class="code" href="classbdm_1_1Agent.html#a42bccface11711f7e18cffff9cedcd1e">Agent::Agent</a>(<span class="keyword">const</span> <a class="code" href="classbdm_1_1Agent.html">Agent</a>&amp; other)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    : uid_(other.uid_),</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      box_idx_(other.box_idx_),</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      run_behavior_loop_idx_(other.run_behavior_loop_idx_),</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      propagate_staticness_neighborhood_(</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;          other.propagate_staticness_neighborhood_),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      is_static_next_ts_(other.is_static_next_ts_) {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>* behavior : other.<a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.push_back(behavior-&gt;NewCopy());</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a1c6b3d9d63d81f09973ada886b493884">   59</a></span>&#160;<a class="code" href="classbdm_1_1Agent.html#a1c6b3d9d63d81f09973ada886b493884">Agent::~Agent</a>() {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>* el : <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">delete</span> el;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a75fa4739192680178151b0f582f3aec3">   65</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#a75fa4739192680178151b0f582f3aec3">Agent::Initialize</a>(<span class="keyword">const</span> <a class="code" href="structbdm_1_1NewAgentEvent.html">NewAgentEvent</a>&amp; event) {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#a8341997d6852154568bab40bf74e9018">box_idx_</a> = <span class="keyword">event</span>.existing_agent-&gt;GetBoxIdx();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// copy behaviors_ to me</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#aaaf5e89654af92326ef47ced5fd254b4">InitializeBehaviors</a>(event);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#ac8ab9dc9a00376e3db454e8dc20268f0">   71</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#ac8ab9dc9a00376e3db454e8dc20268f0">Agent::Update</a>(<span class="keyword">const</span> <a class="code" href="structbdm_1_1NewAgentEvent.html">NewAgentEvent</a>&amp; event) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// Run displacement if a new agent has been created with an event.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#a03854f33b5350748a12546a584723bbe">SetPropagateStaticness</a>();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#a969c0272a27c6c67fc26572c1835ccd4">UpdateBehaviors</a>(event);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structbdm_1_1SetStaticnessForEachNeighbor.html">   77</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html">SetStaticnessForEachNeighbor</a></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    : <span class="keyword">public</span> <a class="code" href="classbdm_1_1Functor.html">Functor</a>&lt;void, const Agent*, double&gt; {</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structbdm_1_1SetStaticnessForEachNeighbor.html#ad5757742c3b05e824a97bb0186519f47">   79</a></span>&#160;  <a class="code" href="classbdm_1_1Agent.html">Agent</a>* <a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html#ad5757742c3b05e824a97bb0186519f47">agent_</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structbdm_1_1SetStaticnessForEachNeighbor.html#a9d95590c128a06dcff46d38789a31819">   80</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html#a9d95590c128a06dcff46d38789a31819">SetStaticnessForEachNeighbor</a>(<a class="code" href="classbdm_1_1Agent.html">Agent</a>* agent) : <a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html#ad5757742c3b05e824a97bb0186519f47">agent_</a>(agent) {}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structbdm_1_1SetStaticnessForEachNeighbor.html#ac9403e9c81bce584b73156fdf19fa7d7">   82</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html#ac9403e9c81bce584b73156fdf19fa7d7">operator()</a>(<span class="keyword">const</span> <a class="code" href="classbdm_1_1Agent.html">Agent</a>* neighbor, <span class="keywordtype">double</span> squared_distance)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">double</span> distance = <a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html#ad5757742c3b05e824a97bb0186519f47">agent_</a>-&gt;<a class="code" href="classbdm_1_1Agent.html#a105948673d397c1ed122b4304cacb446">GetDiameter</a>() + neighbor-&gt;<a class="code" href="classbdm_1_1Agent.html#a105948673d397c1ed122b4304cacb446">GetDiameter</a>();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (squared_distance &lt; distance * distance) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      neighbor-&gt;<a class="code" href="classbdm_1_1Agent.html#a824410731a23318ff1c9ab017ffad664">SetStaticnessNextTimestep</a>(<span class="keyword">false</span>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;};</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a3cbf07283c11cd46332150f90890ece9">   90</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#a3cbf07283c11cd46332150f90890ece9">Agent::PropagateStaticness</a>() {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classbdm_1_1Simulation.html#a67bdfef8ac06a741e287d73d2d941c63">Simulation::GetActive</a>()-&gt;GetParam()-&gt;detect_static_agents) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classbdm_1_1Agent.html#a6002899c9e771e11a6f3347e0060fed1">is_static_next_ts_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classbdm_1_1Agent.html#af360f02bd2a5f171744bb863a99be23e">propagate_staticness_neighborhood_</a>) {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#af360f02bd2a5f171744bb863a99be23e">propagate_staticness_neighborhood_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#a6002899c9e771e11a6f3347e0060fed1">is_static_next_ts_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">auto</span>* ctxt = <a class="code" href="classbdm_1_1Simulation.html#a67bdfef8ac06a741e287d73d2d941c63">Simulation::GetActive</a>()-&gt;<a class="code" href="classbdm_1_1Simulation.html#a0be91b02708fc3ecbc5ac229a09e9ba1">GetExecutionContext</a>();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <a class="code" href="structbdm_1_1SetStaticnessForEachNeighbor.html">SetStaticnessForEachNeighbor</a> for_each(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  ctxt-&gt;ForEachNeighbor(for_each, *<span class="keyword">this</span>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#ae6979dab050af0cce9a97e21f7a0b4bf">  106</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#ae6979dab050af0cce9a97e21f7a0b4bf">Agent::RunDiscretization</a>() {}</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a32df116a3829c3cd2711bdc3b1bc029e">  108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#a32df116a3829c3cd2711bdc3b1bc029e">Agent::AssignNewUid</a>() {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="classbdm_1_1Agent.html#afd2c00a991e2f69e2fd303bc9074ccc6">uid_</a> = <a class="code" href="classbdm_1_1Simulation.html#a67bdfef8ac06a741e287d73d2d941c63">Simulation::GetActive</a>()-&gt;<a class="code" href="classbdm_1_1Simulation.html#a7de7f45dc18c40554adfc9cca4a84935">GetAgentUidGenerator</a>()-&gt;<a class="code" href="classbdm_1_1AgentUidGenerator.html#ad6e6dada9933469cb85a95f5815ca483">GenerateUid</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#adcd10db730dc105aef49d7a4295d93fe">  112</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classbdm_1_1AgentUid.html">AgentUid</a>&amp; <a class="code" href="classbdm_1_1Agent.html#adcd10db730dc105aef49d7a4295d93fe">Agent::GetUid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbdm_1_1Agent.html#afd2c00a991e2f69e2fd303bc9074ccc6">uid_</a>; }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#ae3e0d8a3c2d9a0b314f645ebd4cb661d">  114</a></span>&#160;uint32_t <a class="code" href="classbdm_1_1Agent.html#ae3e0d8a3c2d9a0b314f645ebd4cb661d">Agent::GetBoxIdx</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbdm_1_1Agent.html#a8341997d6852154568bab40bf74e9018">box_idx_</a>; }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a4774f17472e135205049eda01d718d74">  116</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#a4774f17472e135205049eda01d718d74">Agent::SetBoxIdx</a>(uint32_t idx) { <a class="code" href="classbdm_1_1Agent.html#a8341997d6852154568bab40bf74e9018">box_idx_</a> = idx; }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">// ---------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">// Behaviors</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#af165ab651a4e08c4aacd0f9c8ac640fb">  121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#af165ab651a4e08c4aacd0f9c8ac640fb">Agent::AddBehavior</a>(<a class="code" href="classbdm_1_1Behavior.html">Behavior</a>* behavior) { <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.push_back(behavior); }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a745bf451bac0d23302935d5015dd46bb">  123</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#a745bf451bac0d23302935d5015dd46bb">Agent::RemoveBehavior</a>(<span class="keyword">const</span> <a class="code" href="classbdm_1_1Behavior.html">Behavior</a>* behavior) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.size(); i++) {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>[i] == behavior) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keyword">delete</span> behavior;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.erase(<a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.begin() + i);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="comment">// if behavior was before or at the current run_behavior_loop_idx_,</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="comment">// correct it by subtracting one.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">run_behavior_loop_idx_</a> -= i &gt; <a class="code" href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">run_behavior_loop_idx_</a> ? 0 : 1;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#ac34ba6fd30ba1cccef3c148bbf7335a9">  135</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#ac34ba6fd30ba1cccef3c148bbf7335a9">Agent::RunBehaviors</a>() {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">run_behavior_loop_idx_</a> = 0; <a class="code" href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">run_behavior_loop_idx_</a> &lt; <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.size();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;       ++<a class="code" href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">run_behavior_loop_idx_</a>) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keyword">auto</span>* behavior = <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>[<a class="code" href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">run_behavior_loop_idx_</a>];</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    behavior-&gt;Run(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#ac6ff7e2073bd2b3e4794bc8f0a8c26ed">  143</a></span>&#160;<span class="keyword">const</span> <a class="code" href="classbdm_1_1InlineVector.html">InlineVector&lt;Behavior*, 2&gt;</a>&amp; <a class="code" href="classbdm_1_1Agent.html#ac6ff7e2073bd2b3e4794bc8f0a8c26ed">Agent::GetAllBehaviors</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;}</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// ---------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#af6207c677e8c7afb3358792765396325">  148</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#af6207c677e8c7afb3358792765396325">Agent::RemoveFromSimulation</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="classbdm_1_1Simulation.html#a67bdfef8ac06a741e287d73d2d941c63">Simulation::GetActive</a>()-&gt;<a class="code" href="classbdm_1_1Simulation.html#a0be91b02708fc3ecbc5ac229a09e9ba1">GetExecutionContext</a>()-&gt;<a class="code" href="classbdm_1_1InPlaceExecutionContext.html#a7cb65ad1b2fde6a8b096f2468b8dcbf2">RemoveFromSimulation</a>(<a class="code" href="classbdm_1_1Agent.html#afd2c00a991e2f69e2fd303bc9074ccc6">uid_</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#aaaf5e89654af92326ef47ced5fd254b4">  152</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#aaaf5e89654af92326ef47ced5fd254b4">Agent::InitializeBehaviors</a>(<span class="keyword">const</span> <a class="code" href="structbdm_1_1NewAgentEvent.html">NewAgentEvent</a>&amp; event) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; existing_agent_behaviors = <span class="keyword">event</span>.existing_agent-&gt;behaviors_;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">event</span>.new_behaviors.clear();</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  uint64_t cnt = 0;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>* behavior : existing_agent_behaviors) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (behavior-&gt;WillBeCopied(event.<a class="code" href="structbdm_1_1NewAgentEvent.html#afb5d485434d9e0140c73afaccdd8d683">GetUid</a>())) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keyword">event</span>.new_behaviors.clear();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="comment">// collect new behaviors from other new agents</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span>* nagent : event.<a class="code" href="structbdm_1_1NewAgentEvent.html#a177e317781dcffe3bd0dd0487eec058b">new_agents</a>) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keyword">event</span>.new_behaviors.push_back(nagent-&gt;behaviors_[cnt]);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keyword">event</span>.existing_behavior = behavior;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keyword">auto</span>* new_behavior = behavior-&gt;New();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      new_behavior-&gt;Initialize(event);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.push_back(new_behavior);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      cnt++;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classbdm_1_1Agent.html#a969c0272a27c6c67fc26572c1835ccd4">  172</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classbdm_1_1Agent.html#a969c0272a27c6c67fc26572c1835ccd4">Agent::UpdateBehaviors</a>(<span class="keyword">const</span> <a class="code" href="structbdm_1_1NewAgentEvent.html">NewAgentEvent</a>&amp; event) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// call event handler for behaviors</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  uint64_t cnt = 0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span>* behavior : <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">bool</span> copied = behavior-&gt;WillBeCopied(event.<a class="code" href="structbdm_1_1NewAgentEvent.html#afb5d485434d9e0140c73afaccdd8d683">GetUid</a>());</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (!behavior-&gt;WillBeRemoved(event.<a class="code" href="structbdm_1_1NewAgentEvent.html#afb5d485434d9e0140c73afaccdd8d683">GetUid</a>())) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keyword">event</span>.new_behaviors.clear();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">if</span> (copied) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>* new_agent : event.<a class="code" href="structbdm_1_1NewAgentEvent.html#a177e317781dcffe3bd0dd0487eec058b">new_agents</a>) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          <span class="keyword">auto</span>* new_behavior = new_agent-&gt;behaviors_[cnt];</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          <span class="keyword">event</span>.new_behaviors.push_back(new_behavior);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      behavior-&gt;Update(event);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    cnt += copied ? 1 : 0;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="comment">// remove behaviors from current</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.begin(); it != <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.end();) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">auto</span>* behavior = *it;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (behavior-&gt;WillBeRemoved(event.<a class="code" href="structbdm_1_1NewAgentEvent.html#afb5d485434d9e0140c73afaccdd8d683">GetUid</a>())) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <span class="keyword">delete</span> *it;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      it = <a class="code" href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">behaviors_</a>.erase(it);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      ++it;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}  <span class="comment">// namespace bdm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="ain__place__exec__ctxt_8h_html"><div class="ttname"><a href="in__place__exec__ctxt_8h.html">in_place_exec_ctxt.h</a></div></div>
<div class="ttc" id="astructbdm_1_1NewAgentEvent_html"><div class="ttname"><a href="structbdm_1_1NewAgentEvent.html">bdm::NewAgentEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="new__agent__event_8h_source.html#l00062">new_agent_event.h:62</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a824410731a23318ff1c9ab017ffad664"><div class="ttname"><a href="classbdm_1_1Agent.html#a824410731a23318ff1c9ab017ffad664">bdm::Agent::SetStaticnessNextTimestep</a></div><div class="ttdeci">void SetStaticnessNextTimestep(bool value) const</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00164">agent.h:164</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_aaaf5e89654af92326ef47ced5fd254b4"><div class="ttname"><a href="classbdm_1_1Agent.html#aaaf5e89654af92326ef47ced5fd254b4">bdm::Agent::InitializeBehaviors</a></div><div class="ttdeci">void InitializeBehaviors(const NewAgentEvent &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00152">agent.cc:152</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_ac34ba6fd30ba1cccef3c148bbf7335a9"><div class="ttname"><a href="classbdm_1_1Agent.html#ac34ba6fd30ba1cccef3c148bbf7335a9">bdm::Agent::RunBehaviors</a></div><div class="ttdeci">void RunBehaviors()</div><div class="ttdoc">Execute all behaviorsq.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00135">agent.cc:135</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a3cbf07283c11cd46332150f90890ece9"><div class="ttname"><a href="classbdm_1_1Agent.html#a3cbf07283c11cd46332150f90890ece9">bdm::Agent::PropagateStaticness</a></div><div class="ttdeci">void PropagateStaticness()</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00090">agent.cc:90</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a969c0272a27c6c67fc26572c1835ccd4"><div class="ttname"><a href="classbdm_1_1Agent.html#a969c0272a27c6c67fc26572c1835ccd4">bdm::Agent::UpdateBehaviors</a></div><div class="ttdeci">void UpdateBehaviors(const NewAgentEvent &amp;event)</div><div class="ttdoc">Function to invoke the Update method of the behavior or remove it from current. Forwards the call to ...</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00172">agent.cc:172</a></div></div>
<div class="ttc" id="anamespacebdm_html"><div class="ttname"><a href="namespacebdm.html">bdm</a></div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00039">agent.cc:39</a></div></div>
<div class="ttc" id="aclassbdm_1_1Behavior_html"><div class="ttname"><a href="classbdm_1_1Behavior.html">bdm::Behavior</a></div><div class="ttdef"><b>Definition:</b> <a href="behavior_8h_source.html#l00029">behavior.h:29</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a105948673d397c1ed122b4304cacb446"><div class="ttname"><a href="classbdm_1_1Agent.html#a105948673d397c1ed122b4304cacb446">bdm::Agent::GetDiameter</a></div><div class="ttdeci">virtual double GetDiameter() const =0</div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_ad9ebc77fda1d41c98be2712aa212dd0d"><div class="ttname"><a href="classbdm_1_1Agent.html#ad9ebc77fda1d41c98be2712aa212dd0d">bdm::Agent::run_behavior_loop_idx_</a></div><div class="ttdeci">uint32_t run_behavior_loop_idx_</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00254">agent.h:254</a></div></div>
<div class="ttc" id="amacros_8h_html"><div class="ttname"><a href="macros_8h.html">macros.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a75fa4739192680178151b0f582f3aec3"><div class="ttname"><a href="classbdm_1_1Agent.html#a75fa4739192680178151b0f582f3aec3">bdm::Agent::Initialize</a></div><div class="ttdeci">virtual void Initialize(const NewAgentEvent &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00065">agent.cc:65</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_ac6ff7e2073bd2b3e4794bc8f0a8c26ed"><div class="ttname"><a href="classbdm_1_1Agent.html#ac6ff7e2073bd2b3e4794bc8f0a8c26ed">bdm::Agent::GetAllBehaviors</a></div><div class="ttdeci">const InlineVector&lt; Behavior *, 2 &gt; &amp; GetAllBehaviors() const</div><div class="ttdoc">Return all behaviors.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00143">agent.cc:143</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_adcd10db730dc105aef49d7a4295d93fe"><div class="ttname"><a href="classbdm_1_1Agent.html#adcd10db730dc105aef49d7a4295d93fe">bdm::Agent::GetUid</a></div><div class="ttdeci">const AgentUid &amp; GetUid() const</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00112">agent.cc:112</a></div></div>
<div class="ttc" id="aclassbdm_1_1AgentUidGenerator_html_ad6e6dada9933469cb85a95f5815ca483"><div class="ttname"><a href="classbdm_1_1AgentUidGenerator.html#ad6e6dada9933469cb85a95f5815ca483">bdm::AgentUidGenerator::GenerateUid</a></div><div class="ttdeci">AgentUid GenerateUid()</div><div class="ttdef"><b>Definition:</b> <a href="agent__uid__generator_8h_source.html#l00041">agent_uid_generator.h:41</a></div></div>
<div class="ttc" id="astructbdm_1_1SetStaticnessForEachNeighbor_html_ad5757742c3b05e824a97bb0186519f47"><div class="ttname"><a href="structbdm_1_1SetStaticnessForEachNeighbor.html#ad5757742c3b05e824a97bb0186519f47">bdm::SetStaticnessForEachNeighbor::agent_</a></div><div class="ttdeci">Agent * agent_</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00079">agent.cc:79</a></div></div>
<div class="ttc" id="atype_8h_html"><div class="ttname"><a href="type_8h.html">type.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a03854f33b5350748a12546a584723bbe"><div class="ttname"><a href="classbdm_1_1Agent.html#a03854f33b5350748a12546a584723bbe">bdm::Agent::SetPropagateStaticness</a></div><div class="ttdeci">void SetPropagateStaticness(bool value=true)</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00172">agent.h:172</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a6002899c9e771e11a6f3347e0060fed1"><div class="ttname"><a href="classbdm_1_1Agent.html#a6002899c9e771e11a6f3347e0060fed1">bdm::Agent::is_static_next_ts_</a></div><div class="ttdeci">bool is_static_next_ts_</div><div class="ttdoc">Flag to determine of an agent is static in the next timestep.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00262">agent.h:262</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html"><div class="ttname"><a href="classbdm_1_1Agent.html">bdm::Agent</a></div><div class="ttdoc">Contains code required by all agents.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00079">agent.h:79</a></div></div>
<div class="ttc" id="aclassbdm_1_1Functor_html"><div class="ttname"><a href="classbdm_1_1Functor.html">bdm::Functor</a></div><div class="ttdef"><b>Definition:</b> <a href="functor_8h_source.html#l00021">functor.h:21</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a4774f17472e135205049eda01d718d74"><div class="ttname"><a href="classbdm_1_1Agent.html#a4774f17472e135205049eda01d718d74">bdm::Agent::SetBoxIdx</a></div><div class="ttdeci">void SetBoxIdx(uint32_t idx)</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00116">agent.cc:116</a></div></div>
<div class="ttc" id="anew__agent__event_8h_html"><div class="ttname"><a href="new__agent__event_8h.html">new_agent_event.h</a></div></div>
<div class="ttc" id="astructbdm_1_1SetStaticnessForEachNeighbor_html_a9d95590c128a06dcff46d38789a31819"><div class="ttname"><a href="structbdm_1_1SetStaticnessForEachNeighbor.html#a9d95590c128a06dcff46d38789a31819">bdm::SetStaticnessForEachNeighbor::SetStaticnessForEachNeighbor</a></div><div class="ttdeci">SetStaticnessForEachNeighbor(Agent *agent)</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00080">agent.cc:80</a></div></div>
<div class="ttc" id="aroot_8h_html"><div class="ttname"><a href="root_8h.html">root.h</a></div></div>
<div class="ttc" id="astructbdm_1_1SetStaticnessForEachNeighbor_html"><div class="ttname"><a href="structbdm_1_1SetStaticnessForEachNeighbor.html">bdm::SetStaticnessForEachNeighbor</a></div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00077">agent.cc:77</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_ae6979dab050af0cce9a97e21f7a0b4bf"><div class="ttname"><a href="classbdm_1_1Agent.html#ae6979dab050af0cce9a97e21f7a0b4bf">bdm::Agent::RunDiscretization</a></div><div class="ttdeci">virtual void RunDiscretization()</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00106">agent.cc:106</a></div></div>
<div class="ttc" id="astructbdm_1_1NewAgentEvent_html_a177e317781dcffe3bd0dd0487eec058b"><div class="ttname"><a href="structbdm_1_1NewAgentEvent.html#a177e317781dcffe3bd0dd0487eec058b">bdm::NewAgentEvent::new_agents</a></div><div class="ttdeci">InlineVector&lt; Agent *, 3 &gt; new_agents</div><div class="ttdef"><b>Definition:</b> <a href="new__agent__event_8h_source.html#l00074">new_agent_event.h:74</a></div></div>
<div class="ttc" id="aagent_8h_html"><div class="ttname"><a href="agent_8h.html">agent.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1InPlaceExecutionContext_html_a7cb65ad1b2fde6a8b096f2468b8dcbf2"><div class="ttname"><a href="classbdm_1_1InPlaceExecutionContext.html#a7cb65ad1b2fde6a8b096f2468b8dcbf2">bdm::InPlaceExecutionContext::RemoveFromSimulation</a></div><div class="ttdeci">void RemoveFromSimulation(const AgentUid &amp;uid)</div><div class="ttdef"><b>Definition:</b> <a href="in__place__exec__ctxt_8cc_source.html#l00351">in_place_exec_ctxt.cc:351</a></div></div>
<div class="ttc" id="aclassbdm_1_1Simulation_html_a7de7f45dc18c40554adfc9cca4a84935"><div class="ttname"><a href="classbdm_1_1Simulation.html#a7de7f45dc18c40554adfc9cca4a84935">bdm::Simulation::GetAgentUidGenerator</a></div><div class="ttdeci">AgentUidGenerator * GetAgentUidGenerator()</div><div class="ttdef"><b>Definition:</b> <a href="simulation_8cc_source.html#l00261">simulation.cc:261</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_af165ab651a4e08c4aacd0f9c8ac640fb"><div class="ttname"><a href="classbdm_1_1Agent.html#af165ab651a4e08c4aacd0f9c8ac640fb">bdm::Agent::AddBehavior</a></div><div class="ttdeci">void AddBehavior(Behavior *behavior)</div><div class="ttdoc">Add a behavior to this agent.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00121">agent.cc:121</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_ae3e0d8a3c2d9a0b314f645ebd4cb661d"><div class="ttname"><a href="classbdm_1_1Agent.html#ae3e0d8a3c2d9a0b314f645ebd4cb661d">bdm::Agent::GetBoxIdx</a></div><div class="ttdeci">uint32_t GetBoxIdx() const</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00114">agent.cc:114</a></div></div>
<div class="ttc" id="aclassbdm_1_1Simulation_html_a0be91b02708fc3ecbc5ac229a09e9ba1"><div class="ttname"><a href="classbdm_1_1Simulation.html#a0be91b02708fc3ecbc5ac229a09e9ba1">bdm::Simulation::GetExecutionContext</a></div><div class="ttdeci">InPlaceExecutionContext * GetExecutionContext()</div><div class="ttdoc">Returns a thread local execution context.</div><div class="ttdef"><b>Definition:</b> <a href="simulation_8cc_source.html#l00278">simulation.cc:278</a></div></div>
<div class="ttc" id="aclassbdm_1_1AgentUid_html"><div class="ttname"><a href="classbdm_1_1AgentUid.html">bdm::AgentUid</a></div><div class="ttdef"><b>Definition:</b> <a href="agent__uid_8h_source.html#l00025">agent_uid.h:25</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_af360f02bd2a5f171744bb863a99be23e"><div class="ttname"><a href="classbdm_1_1Agent.html#af360f02bd2a5f171744bb863a99be23e">bdm::Agent::propagate_staticness_neighborhood_</a></div><div class="ttdeci">bool propagate_staticness_neighborhood_</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00260">agent.h:260</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a42bccface11711f7e18cffff9cedcd1e"><div class="ttname"><a href="classbdm_1_1Agent.html#a42bccface11711f7e18cffff9cedcd1e">bdm::Agent::Agent</a></div><div class="ttdeci">Agent()</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00041">agent.cc:41</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a1c6b3d9d63d81f09973ada886b493884"><div class="ttname"><a href="classbdm_1_1Agent.html#a1c6b3d9d63d81f09973ada886b493884">bdm::Agent::~Agent</a></div><div class="ttdeci">virtual ~Agent()</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00059">agent.cc:59</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a8e11eb5c839d67c3f166bec103960ce4"><div class="ttname"><a href="classbdm_1_1Agent.html#a8e11eb5c839d67c3f166bec103960ce4">bdm::Agent::behaviors_</a></div><div class="ttdeci">InlineVector&lt; Behavior *, 2 &gt; behaviors_</div><div class="ttdoc">collection of behaviors which define the internal behavior</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00247">agent.h:247</a></div></div>
<div class="ttc" id="astructbdm_1_1NewAgentEvent_html_afb5d485434d9e0140c73afaccdd8d683"><div class="ttname"><a href="structbdm_1_1NewAgentEvent.html#afb5d485434d9e0140c73afaccdd8d683">bdm::NewAgentEvent::GetUid</a></div><div class="ttdeci">virtual NewAgentEventUid GetUid() const =0</div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_af6207c677e8c7afb3358792765396325"><div class="ttname"><a href="classbdm_1_1Agent.html#af6207c677e8c7afb3358792765396325">bdm::Agent::RemoveFromSimulation</a></div><div class="ttdeci">void RemoveFromSimulation() const</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00148">agent.cc:148</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_ac8ab9dc9a00376e3db454e8dc20268f0"><div class="ttname"><a href="classbdm_1_1Agent.html#ac8ab9dc9a00376e3db454e8dc20268f0">bdm::Agent::Update</a></div><div class="ttdeci">virtual void Update(const NewAgentEvent &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00071">agent.cc:71</a></div></div>
<div class="ttc" id="abehavior_8h_html"><div class="ttname"><a href="behavior_8h.html">behavior.h</a></div></div>
<div class="ttc" id="astructbdm_1_1SetStaticnessForEachNeighbor_html_ac9403e9c81bce584b73156fdf19fa7d7"><div class="ttname"><a href="structbdm_1_1SetStaticnessForEachNeighbor.html#ac9403e9c81bce584b73156fdf19fa7d7">bdm::SetStaticnessForEachNeighbor::operator()</a></div><div class="ttdeci">void operator()(const Agent *neighbor, double squared_distance) override</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00082">agent.cc:82</a></div></div>
<div class="ttc" id="aenvironment_8h_html"><div class="ttname"><a href="environment_8h.html">environment.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a32df116a3829c3cd2711bdc3b1bc029e"><div class="ttname"><a href="classbdm_1_1Agent.html#a32df116a3829c3cd2711bdc3b1bc029e">bdm::Agent::AssignNewUid</a></div><div class="ttdeci">void AssignNewUid()</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00108">agent.cc:108</a></div></div>
<div class="ttc" id="asimulation_8h_html"><div class="ttname"><a href="simulation_8h.html">simulation.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a745bf451bac0d23302935d5015dd46bb"><div class="ttname"><a href="classbdm_1_1Agent.html#a745bf451bac0d23302935d5015dd46bb">bdm::Agent::RemoveBehavior</a></div><div class="ttdeci">void RemoveBehavior(const Behavior *behavior)</div><div class="ttdoc">Remove a behavior from this agent.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8cc_source.html#l00123">agent.cc:123</a></div></div>
<div class="ttc" id="aclassbdm_1_1InlineVector_html"><div class="ttname"><a href="classbdm_1_1InlineVector.html">bdm::InlineVector</a></div><div class="ttdef"><b>Definition:</b> <a href="inline__vector_8h_source.html#l00049">inline_vector.h:49</a></div></div>
<div class="ttc" id="aresource__manager_8h_html"><div class="ttname"><a href="resource__manager_8h.html">resource_manager.h</a></div></div>
<div class="ttc" id="aclassbdm_1_1Simulation_html_a67bdfef8ac06a741e287d73d2d941c63"><div class="ttname"><a href="classbdm_1_1Simulation.html#a67bdfef8ac06a741e287d73d2d941c63">bdm::Simulation::GetActive</a></div><div class="ttdeci">static Simulation * GetActive()</div><div class="ttdoc">This function returns the currently active Simulation simulation.</div><div class="ttdef"><b>Definition:</b> <a href="simulation_8cc_source.html#l00063">simulation.cc:63</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_a8341997d6852154568bab40bf74e9018"><div class="ttname"><a href="classbdm_1_1Agent.html#a8341997d6852154568bab40bf74e9018">bdm::Agent::box_idx_</a></div><div class="ttdeci">uint32_t box_idx_</div><div class="ttdoc">Grid box index.</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00245">agent.h:245</a></div></div>
<div class="ttc" id="aclassbdm_1_1Agent_html_afd2c00a991e2f69e2fd303bc9074ccc6"><div class="ttname"><a href="classbdm_1_1Agent.html#afd2c00a991e2f69e2fd303bc9074ccc6">bdm::Agent::uid_</a></div><div class="ttdeci">AgentUid uid_</div><div class="ttdoc">unique id</div><div class="ttdef"><b>Definition:</b> <a href="agent_8h_source.html#l00243">agent.h:243</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
