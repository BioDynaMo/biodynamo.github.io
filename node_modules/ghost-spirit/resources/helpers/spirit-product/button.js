'use strict';

const hbs = require('express-hbs');
const btnStyles = require('./styles/button');

hbs.registerHelper('ui-btn', function (options) {
    let styles = btnStyles({
        style: options.hash.style,
        class: options.hash.class
    });

    let attrs = Object.keys(options.hash).map((key) => {
        if (key !== 'style' && key !== 'class') {
            return `${key}="${options.hash[key]}"`;
        }
    }).join(' ');

    return new hbs.handlebars.SafeString(
        `<button class="${styles.button}" ${attrs}><span class="${styles.span}">`
        + options.fn(this)
        + `</span></button>`
    );
});
