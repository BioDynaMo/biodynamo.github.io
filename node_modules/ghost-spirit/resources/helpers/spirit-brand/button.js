'use strict';

const hbs = require('express-hbs');
const buttonStyles = require('./styles/button');

hbs.registerHelper('gh-btn', function (options) {
    let styles = buttonStyles({
        style: options.hash.style,
        class: options.hash.class
    });

    let attrs = Object.keys(options.hash).map((key) => {
        if (key !== 'style' && key !== 'class') {
            return `${key}="${options.hash[key]}"`;
        }
    }).join(' ');

    return new hbs.handlebars.SafeString(
        `<button class="${styles.button}" ${attrs}><span class="${styles.span}">`
        + options.fn(this)
        + `</span></button>`
    );

    // return new hbs.handlebars.SafeString(
    //     `<a href="${href}" class="${btnCss}" ${attrs}>`
    //     + options.fn(this)
    //     + '</a>'
    // );
});
