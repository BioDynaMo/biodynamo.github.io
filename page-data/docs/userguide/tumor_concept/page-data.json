{"componentChunkName":"component---src-templates-markdown-post-js","path":"/docs/userguide/tumor_concept/","webpackCompilationHash":"7b2677f72dff2e1446bb","result":{"data":{"site":{"siteMetadata":{"siteUrl":"http://local:8000","title":"BioDynaMO Website","description":"Everything you need to know about biology simulations."}},"markdownRemark":{"frontmatter":{"title":"Tumor Concept","date":"2019-01-01","date_pretty":"01 January, 2019","path":"/docs/userguide/tumor_concept/","meta_title":"BioDynaMo User Guide","meta_description":"This is the tumor concept page.","image":"","next":{"url":"/docs/userguide/tumor_concept/","title":"Tumor Concept","description":"This is the tumor concept page."},"sidebar":"userguide","toc":true},"html":"<p>Written by Jean de Montigny</p>\n<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>BioDynaMo is platform for computer simulations of biological dynamics. You can learn more about BioDynaMo by accessing its official website.</p>\n<p>This Tutorial in designed for user with limited knowledge of C++ language and will teach you the basics of BioDynaMo:</p>\n<ul>\n<li>Create, build and run a new project</li>\n<li>Create cells with a specific behaviour through a biological module</li>\n<li>Extend an existing structure</li>\n<li>Visualize a simulation</li>\n</ul>\n<h3 id=\"installation\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation</h3>\n<p>You can access the installation page by clicking <a href=\"/docs/userguide/installation/\">here</a>.</p>\n<h3 id=\"structure-creation\"><a href=\"#structure-creation\" aria-label=\"structure creation permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Structure creation</h3>\n<p>As BioDynaMo is written is C++, it needs a particular structure. Fortunately, this procedure is really easy with BioDynaMo. To create a new project, you just need to run the command <code class=\"language-text\">biodynamo new &lt;project&gt;</code>. If you wish to have your Github account linked to your project you can append the <code class=\"language-text\">--github</code> option to the command. Try opening a terminal and running the command <code class=\"language-text\">biodynamo new tutorial</code>. This will create a folder named tutorial in your current directory, containing everything that BioDynaMo needs. Inside <code class=\"language-text\">tutorial/src</code>, two files with the basic structure already written have been created: <code class=\"language-text\">tutorial.cc</code> and <code class=\"language-text\">tutorial.h</code>. <code class=\"language-text\">tutorial.cc</code> will only contain the call to function <code class=\"language-text\">Simulate</code> which is defined in  <code class=\"language-text\">tutorial.h</code>. This is were the core of our work will be added. You can easily compile your code using the command <code class=\"language-text\">biodynamo build</code> and run your simulation by typing the command <code class=\"language-text\">biodynamo run</code>.\nYou can also directly use <code class=\"language-text\">biodynamo demo tumor_concept</code> to try this demo.</p>\n<h2 id=\"cells-and-biology-modules\"><a href=\"#cells-and-biology-modules\" aria-label=\"cells and biology modules permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cells and biology modules</h2>\n<p>The structure built in the previous chapter only creates a single cell. In this chapter we will create more cells in order to build a square of 2 400 randomly distributed cells. Afterwards, we will create a number of cancerous cells, that will grow and divide.</p>\n<h3 id=\"creating-cells\"><a href=\"#creating-cells\" aria-label=\"creating cells permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating cells</h3>\n<p>To do so, we will work only on the <code class=\"language-text\">Simulate</code> function of the <code class=\"language-text\">tutorial.h</code> file.\nFirst, we create a lambda function to set the simulation <a href=\"/docs/userguide/parameter/\">parameters</a> programmatically.\nSecond, we create a BioDynaMo simulation.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">auto</span> set_param <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>Param<span class=\"token operator\">*</span> param<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  param<span class=\"token operator\">-></span>bound_space_ <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  param<span class=\"token operator\">-></span>min_bound_ <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  param<span class=\"token operator\">-></span>max_bound_ <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// cube of 100*100*100</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\nSimulation <span class=\"token function\">simulation</span><span class=\"token punctuation\">(</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">,</span> set_param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Afterwards, we obtain a reference to a few important objects.</p>\n<ul>\n<li><code class=\"language-text\">ResourceManager</code> will store our simulation objects.</li>\n<li><code class=\"language-text\">Random</code> is a random number generator.</li>\n<li><code class=\"language-text\">Param</code> holds our simulation parameters.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> rm <span class=\"token operator\">=</span> simulation<span class=\"token punctuation\">.</span><span class=\"token function\">GetResourceManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> random <span class=\"token operator\">=</span> simulation<span class=\"token punctuation\">.</span><span class=\"token function\">GetRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> param <span class=\"token operator\">=</span> simulation<span class=\"token punctuation\">.</span><span class=\"token function\">GetParam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Let's define the number of cells we want to create and allocate three variables to hold the position (x<em>coord, y</em>coord and z_coord).</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">size_t nb_of_cells<span class=\"token operator\">=</span><span class=\"token number\">2400</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// number of cells in the simulation</span>\n<span class=\"token keyword\">double</span> x_coord<span class=\"token punctuation\">,</span> y_coord<span class=\"token punctuation\">,</span> z_coord<span class=\"token punctuation\">;</span></code></pre></div>\n<p>Then, with a simple loop from 0 to the number of cells, generate uniform distributed values for x, y and z and create a new cell object.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>size_t i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> nb_of_cells<span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// our modelling will be a cell cube of 100*100*100</span>\n  <span class=\"token comment\">// random double between 0 and 100</span>\n  x_coord <span class=\"token operator\">=</span> random<span class=\"token operator\">-></span><span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span>param<span class=\"token operator\">-></span>min_bound_<span class=\"token punctuation\">,</span> param<span class=\"token operator\">-></span>max_bound_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  y_coord <span class=\"token operator\">=</span> random<span class=\"token operator\">-></span><span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span>param<span class=\"token operator\">-></span>min_bound_<span class=\"token punctuation\">,</span> param<span class=\"token operator\">-></span>max_bound_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  z_coord <span class=\"token operator\">=</span> random<span class=\"token operator\">-></span><span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span>param<span class=\"token operator\">-></span>min_bound_<span class=\"token punctuation\">,</span> param<span class=\"token operator\">-></span>max_bound_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// creating the cell at position x, y, z</span>\n  Cell<span class=\"token operator\">*</span> cell <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Cell</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>x_coord<span class=\"token punctuation\">,</span> y_coord<span class=\"token punctuation\">,</span> z_coord<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// set cell parameters</span>\n  cell<span class=\"token operator\">-></span><span class=\"token function\">SetDiameter</span><span class=\"token punctuation\">(</span><span class=\"token number\">7.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  rm<span class=\"token operator\">-></span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>cell<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// put the created cell in our cells structure</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>We now have our structure containing all the 2400 cells! The code in charge of running our modelling is already written and will simulate it for only one step. Lets change this to simulate for 200 steps.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">simulation<span class=\"token punctuation\">.</span><span class=\"token function\">GetScheduler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">Simulate</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"biology-module\"><a href=\"#biology-module\" aria-label=\"biology module permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Biology module</h3>\n<p>In the previous chapter, we created a great number of cells. However, those cells don’t do anything! We will here create a cancerous cell that will grow and divide when it reaches a certain diameter. For this, we will define a new biology module structure GrowthModule that will be applied to cell elements, and we will make this GrowthModule copied into the cell daughter (so the daughter will also contain an instance of the biology module GrowthModule)</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">GrowthModule</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">public</span> BaseBiologyModule <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">BDM_STATELESS_BM_HEADER</span><span class=\"token punctuation\">(</span>GrowthModule<span class=\"token punctuation\">,</span> BaseBiologyModule<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">GrowthModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">BaseBiologyModule</span><span class=\"token punctuation\">(</span>gAllEventIds<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/// Empty default event constructor, because GrowthModule does not have state.</span>\n  <span class=\"token keyword\">template</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">typename</span> TEvent<span class=\"token punctuation\">,</span> <span class=\"token keyword\">typename</span> TBm<span class=\"token operator\">></span>\n  <span class=\"token function\">GrowthModule</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> TEvent<span class=\"token operator\">&amp;</span> event<span class=\"token punctuation\">,</span> TBm<span class=\"token operator\">*</span> other<span class=\"token punctuation\">,</span> <span class=\"token keyword\">uint64_t</span> new_oid <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">:</span> <span class=\"token function\">BaseBiologyModule</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">,</span> other<span class=\"token punctuation\">,</span> new_oid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">Run</span><span class=\"token punctuation\">(</span>SimObject<span class=\"token operator\">*</span> so<span class=\"token punctuation\">)</span> override <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// code to be executed at each simulation step</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We are now able to add any code in the Run() method, that will be executed at each simulation step for each cell containing this GrowthModule. In our case, it will be a cellular growth, until a certain diameter is reached and then a cell division:</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> cell <span class=\"token operator\">=</span> <span class=\"token keyword\">dynamic_cast</span><span class=\"token operator\">&lt;</span>Cell<span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>so<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cell<span class=\"token operator\">-></span><span class=\"token function\">GetDiameter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    cell<span class=\"token operator\">-></span><span class=\"token function\">ChangeVolume</span><span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    cell<span class=\"token operator\">-></span><span class=\"token function\">Divide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Of course, we need to create at least one new cell that contains our <code class=\"language-text\">GrowthModule</code> in our <code class=\"language-text\">Simulate</code> method</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">Cell<span class=\"token operator\">*</span> cell <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Cell</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncell<span class=\"token operator\">-></span><span class=\"token function\">SetDiameter</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncell<span class=\"token operator\">-></span><span class=\"token function\">AddBiologyModule</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token function\">GrowthModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrm<span class=\"token operator\">-></span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>cell<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// put the created cell in our cells structure</span></code></pre></div>\n<p>Run running it using <code class=\"language-text\">biodynamo run</code>. This code is now able to create and simulate 2 400 normal cells and 1 cancerous cell that will grow and divide! Complete code can be found in <code class=\"language-text\">demo/tumor_concept</code>.</p>\n<h2 id=\"visualisation-using-paraview\"><a href=\"#visualisation-using-paraview\" aria-label=\"visualisation using paraview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Visualisation using Paraview</h2>\n<p>In the previous chapter we created a simulation of a great number of cell, also containing dividing cancerous cells, but we were not able to visualize anything, yet! In this chapter, we will set up visualization using Paraview (included in the BioDynaMo package). Dedicated page about visualization can be accessed <a href=\"/docs/userguide/visualization/\">here</a></p>\n<h3 id=\"paraview\"><a href=\"#paraview\" aria-label=\"paraview permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Paraview</h3>\n<p><a href=\"https://www.paraview.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Paraview</a> is an open source application for interactive and scientific visualisation. First of all, we need to tell BioDynaMo that we will use Paraview and so that we want the visualisation to be enable. To do that, we need to create a configuration file <code class=\"language-text\">bdm.toml</code> in the tutorial folder. Visualisation is of course not the only configuration we can do using this file. You can allow live visualisation and/or export visualisation (here every 2 simulation step) by adding in <code class=\"language-text\">bdm.toml</code></p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token punctuation\">[</span>visualization<span class=\"token punctuation\">]</span>\nlive <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\nexport_interval <span class=\"token operator\">=</span> <span class=\"token number\">2</span></code></pre></div>\n<p>Afterwards, we have to define which simulation objects will be considered for visualization:</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>visualize_sim_object<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nname <span class=\"token operator\">=</span> <span class=\"token string\">\"Cell\"</span></code></pre></div>\n<p>Because those visualization parameters are not in the source code, you don’t need to compile your code again.\nWe can note that instead of creating a configuration file, you can do the same by creating this lambda function and passing it to the constructor of <code class=\"language-text\">Simulation</code></p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">auto</span> set_param <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> param<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  param<span class=\"token operator\">-></span>live_visualization_ <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// allows live visualisation</span>\n  param<span class=\"token operator\">-></span>export_visualization_ <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// allows export of visualisation files</span>\n  param<span class=\"token operator\">-></span>visualization_export_interval_ <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// export visualisation files every 2 steps</span>\n  param<span class=\"token operator\">-></span>visualize_sim_objects_<span class=\"token punctuation\">[</span><span class=\"token string\">\"Cell\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> std<span class=\"token operator\">::</span>set<span class=\"token operator\">&lt;</span>std<span class=\"token operator\">::</span>string<span class=\"token operator\">></span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\nSimulation <span class=\"token function\">simulation</span><span class=\"token punctuation\">(</span>argc<span class=\"token punctuation\">,</span> argv<span class=\"token punctuation\">,</span> set_param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Once again, it is important to note that if you want to change any visualization parameter using this second method, you will have to compile your code again. That is not the case using a configuration file. Hence, using the toml file is highly recommended.</p>\n<p>We will first have a look at export visualization then the live visualization. In both cases, simply run Paraview using the console line command <code class=\"language-text\">paraview &amp;</code>. This window should appears</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.903991370010786%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABQklEQVQoz5XQW0vCYBjA8X06DbJCHTa7KMTsJjxdWt8g7Cx61+Eiij5FEqU7e87KaM2txbZ3e8dckmRrWeRFIA1+PDcPf3h4EOHpvvt4JwmcKvNQf4aa1IOqCWVD4U0gGJoIgdg3wVtPH7P0wSscWBCRRAEoct8ym43byyJOlBkCZwmcoXCWJFiKqJB4hSZrNPWDoevlEl28KF1fUYht28Ph0Jm5wrl3ZgUNpwNYMoilglh6JPWXP5SYQ+POHMf7+TPPdBTFkv5QfLLAvCPhQAyo60C1P973cide3zIaTn0v/gPpcg8Cz5kQZLcOp77OdhN32i2e62iKPIpj7uKbeqXdrEEgb24fuY6bVaZRZSyo7uweu45b9arY5TTlZSN74PFFnE/OoqtjwUkQTZEclgHyhVN0IR2JrS9GM7+WomsTfALaRmBvoDoM8gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/db5671fccba742f2e91700100c07f8c7/50512/paraview1.webp 163w,\n/static/db5671fccba742f2e91700100c07f8c7/aeba0/paraview1.webp 325w,\n/static/db5671fccba742f2e91700100c07f8c7/001d9/paraview1.webp 650w,\n/static/db5671fccba742f2e91700100c07f8c7/97fd0/paraview1.webp 975w,\n/static/db5671fccba742f2e91700100c07f8c7/05607/paraview1.webp 1300w,\n/static/db5671fccba742f2e91700100c07f8c7/61f14/paraview1.webp 1854w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/db5671fccba742f2e91700100c07f8c7/19bd1/paraview1.png 163w,\n/static/db5671fccba742f2e91700100c07f8c7/d3bcb/paraview1.png 325w,\n/static/db5671fccba742f2e91700100c07f8c7/dbb61/paraview1.png 650w,\n/static/db5671fccba742f2e91700100c07f8c7/6b691/paraview1.png 975w,\n/static/db5671fccba742f2e91700100c07f8c7/91670/paraview1.png 1300w,\n/static/db5671fccba742f2e91700100c07f8c7/3b04a/paraview1.png 1854w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/db5671fccba742f2e91700100c07f8c7/dbb61/paraview1.png\"\n          alt=\"Open ParaView\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<h4 id=\"export-visualisation-recommended\"><a href=\"#export-visualisation-recommended\" aria-label=\"export visualisation recommended permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Export Visualisation (recommended)</h4>\n<p>In the configuration file (bdm.toml), turn the export parameter to true then run your modelling. You’ll notice the creation of several new files with the following file extensions <code class=\"language-text\">*.pvsm, *.pvtu, *.vtu, *pvti, *.vti</code> in the folder output/tutorial. Open ParaView and load the generated state file as described in <a href=\"/docs/userguide/visualization/#export-visualization-files\">Section Visualization</a> (file -> load state)</p>\n<p>A major advantage of export visualisation, in addition of not impacting the simulation time, is that you can visualise your modelling freely in time. using the arrows in the top menu, you can choose respectively to go back to the beginning of the simulation, go one step back, run normally, go one step further or go to the end of the simulation. You also can see witch step you are currently visualising (remember that this step number is the number of your modelling step divided by the export_interval you choose in your configuration file).</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 4.593639575971731%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsSAAALEgHS3X78AAAAUUlEQVQI1wXB7QpAMBiAUfd/TUp+SYhGyMea3jG2KXfwOCdxMqG3HrMoop55nEFk5dAjfm6RMuXuS84mx9YZj91x1hCc8PqLeB58qiMMClsV/FHlR6CVXVG8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/30f2af03b9adf1b06f3bfdfce37d4fa9/50512/paraview17.webp 163w,\n/static/30f2af03b9adf1b06f3bfdfce37d4fa9/aeba0/paraview17.webp 325w,\n/static/30f2af03b9adf1b06f3bfdfce37d4fa9/001d9/paraview17.webp 650w,\n/static/30f2af03b9adf1b06f3bfdfce37d4fa9/359d9/paraview17.webp 849w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/30f2af03b9adf1b06f3bfdfce37d4fa9/19bd1/paraview17.png 163w,\n/static/30f2af03b9adf1b06f3bfdfce37d4fa9/d3bcb/paraview17.png 325w,\n/static/30f2af03b9adf1b06f3bfdfce37d4fa9/dbb61/paraview17.png 650w,\n/static/30f2af03b9adf1b06f3bfdfce37d4fa9/5200b/paraview17.png 849w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/30f2af03b9adf1b06f3bfdfce37d4fa9/dbb61/paraview17.png\"\n          alt=\"Paraview time\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<h4 id=\"live-visualisation\"><a href=\"#live-visualisation\" aria-label=\"live visualisation permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Live visualisation</h4>\n<p>To use live visualisation, turn the live option of your configuration file to true, then click on the <em>Catalyst</em> top menu, and select <em>Connect</em> . This windows should appears</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 330px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.45454545454545%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6klEQVQoz03QX2/SUBgG8H43nRlo5hLFwMJ2YbKFDJwx2YUSEQmYxcQbv4dGL9QEA8kWoNBCe9pzetraoiJoaTn9x5AV4gaWGaPJL0+e9715k5fa21g7iEWub964E9vc2Y5vJ+NbidhW4naYifitMHeS8Zsb65H1K9HI1ZXoZUbWotFrVCmVfHm4l7mffvzo8Kj45PlRsZjPFvLZUiFXeprN5x4+K+QeHKQy6d3M/u699D/7qbsUliURCrqCFAR0FatY0BSkSoLYYZAIZMjJCMhIxJDvqpIqiQoSsMApWDQGPQpxbLX8vn5cqR1/rJQ/lN+9ZZq1xnEFARYJnCYBLHJCh+FZWpNFkWNAuynxLORZ4/s3SldlwHMIAijyDbrepOsA8IqMx57jOuQPz7U9lzj26LLY4cb3HN+2KEXTX1T01Cv1DbSWy2VwvpifL4JfF+NpcHo2O53OVmU6C/vkbD5ZbYJpMNc+93r98LKmVYTua1ZrqX2LkKE1Go5CxCK2SWzb80PE9cLRsOwfI8d0fNPx5O6XwaBPDQe9i5/OYkICf+TZpv+XR4Zj18ZQYNlmp9MmlvnVMA13XK3RHSib46lhmhQEvP5JVmWsKTj89v9UjNotmm3RHMsoEhQgbAuwelJrMG0WIEmSfgNg4pcaSV5apAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/59efc7b4a9be6ac096de1622314ab82b/50512/paraview2.webp 163w,\n/static/59efc7b4a9be6ac096de1622314ab82b/aeba0/paraview2.webp 325w,\n/static/59efc7b4a9be6ac096de1622314ab82b/71ea6/paraview2.webp 330w\"\n          sizes=\"(max-width: 330px) 100vw, 330px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/59efc7b4a9be6ac096de1622314ab82b/19bd1/paraview2.png 163w,\n/static/59efc7b4a9be6ac096de1622314ab82b/d3bcb/paraview2.png 325w,\n/static/59efc7b4a9be6ac096de1622314ab82b/b53ef/paraview2.png 330w\"\n          sizes=\"(max-width: 330px) 100vw, 330px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/59efc7b4a9be6ac096de1622314ab82b/b53ef/paraview2.png\"\n          alt=\"Connect ParaView\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Click OK, then this windows should appears</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 436px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 30.045871559633024%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVQY033NyU7CUBgF4D6YiWwEdoZIrECtLlz5MO7cOkGBMgQKKhKNQZuGIdcOtKXIlLbxtrclLYIv4NW9Jt/i5OTk/4mT+BadiGbo9BFFksndQ4o8plOZ1N4BmcCZpvapdDIei0R3tmPRCIZz7BduiBZ73eYqjw/N9h3HVdlGrdxq1m65KlctNesVrFEvl1mmVMgW8zdF5prJXhRyV4XcZYVliJnlnN2bvO6ukMV3nnvCS094HXQF0OMFviOBvjjoqhLAvQj61mJqzSfz99HE0DaBTwBZOz1v55/eAsfUhtJ0rOqKOFJlQ5OGEhjryliTp4amymAxMT6Xbug768BbLZ3AgwT6MF1ohx5cB+hr5W/CPwQeHiAEbeQrujG3IUSIgLa5Dv3Q/zn5P/zNR44JoagMZ6YFXecbVKcK8ZIRmesAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/57266b8e0508154eab9c04dbf1e18c61/50512/paraview3.webp 163w,\n/static/57266b8e0508154eab9c04dbf1e18c61/aeba0/paraview3.webp 325w,\n/static/57266b8e0508154eab9c04dbf1e18c61/47a66/paraview3.webp 436w\"\n          sizes=\"(max-width: 436px) 100vw, 436px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/57266b8e0508154eab9c04dbf1e18c61/19bd1/paraview3.png 163w,\n/static/57266b8e0508154eab9c04dbf1e18c61/d3bcb/paraview3.png 325w,\n/static/57266b8e0508154eab9c04dbf1e18c61/1e1f5/paraview3.png 436w\"\n          sizes=\"(max-width: 436px) 100vw, 436px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/57266b8e0508154eab9c04dbf1e18c61/1e1f5/paraview3.png\"\n          alt=\"Connect ready\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Your Paraview is now accepting connections! Click OK, go back to the <em>Catalyst</em> menu, and select <em>Pause Simulation</em>. Using the same console, launch your tutorial simulation. You now notice that the programme stop right before running the simulation, because we used the Paraview <em>Pause Simulation</em>.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.687585266030013%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAW0lEQVQI163MvQqAIBSAUcE0Qer6s7QEujlbs77/U31BT9DQcNajlFL8Kh0nm0SsWbCrxRhDKYXW2qvWinMOrfW3UEIkpkQIgsiO957eO3NOxhhc903O+U2/hA83DEIYrPsJ7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/018b341f4d57f1f1754dc4b815a5aac7/50512/paraview4.webp 163w,\n/static/018b341f4d57f1f1754dc4b815a5aac7/aeba0/paraview4.webp 325w,\n/static/018b341f4d57f1f1754dc4b815a5aac7/001d9/paraview4.webp 650w,\n/static/018b341f4d57f1f1754dc4b815a5aac7/55180/paraview4.webp 733w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/018b341f4d57f1f1754dc4b815a5aac7/19bd1/paraview4.png 163w,\n/static/018b341f4d57f1f1754dc4b815a5aac7/d3bcb/paraview4.png 325w,\n/static/018b341f4d57f1f1754dc4b815a5aac7/dbb61/paraview4.png 650w,\n/static/018b341f4d57f1f1754dc4b815a5aac7/a5722/paraview4.png 733w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/018b341f4d57f1f1754dc4b815a5aac7/dbb61/paraview4.png\"\n          alt=\"terminal accepted connection\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Go back to Paraview. You notice that new objects have appeared in the <em>Pipeline Browser</em> section. Click on the round shape in front of <em>Cells Glyph</em>.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 337px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 91.3946587537092%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQ4y9WSS2+CQBSF+f8/xGWTphsXNm3SlWxctGBsBXkOzKCIVt7C6YBiaWIrPja9yUnI5fDNuXcQFh4FYwymoWMsS1A+JnifjLFer5BEIaJwg7iDAn8B5hIIRVGgKpdSvEkSDA5WFAWbMMK5laYJhG2eoyxLSBwmDkU4xIIsjzHTtNpUveuiqqppBEJdVCFdz8TLqA9N0xHF8eHUxvxXNZ6Yr0gwnp+QExf2J8Ng9AB9poNSB5ZN4C+XnaA/gPRxgFw3EYyGeBX7oMsAlC93OlWw8P3zgdtmvF4PuLsH9pd08chZlu2aXAW/pdK2UaoqytWq7qG19I7AdNdsJ0sSYD6vYfsvLkhYNRt9O0/CTgPboKsTXlj/GHiNjv6Ht0mYprdNyIgJ5nCR4/IcC5auwjbU+vk3X8P5Av16f78Md1nXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/50512/paraview5.webp 163w,\n/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/aeba0/paraview5.webp 325w,\n/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/05b71/paraview5.webp 337w\"\n          sizes=\"(max-width: 337px) 100vw, 337px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/19bd1/paraview5.png 163w,\n/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/d3bcb/paraview5.png 325w,\n/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/3e757/paraview5.png 337w\"\n          sizes=\"(max-width: 337px) 100vw, 337px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/63a9a7f80be5e6b1636b7c1d8d13cdaa/3e757/paraview5.png\"\n          alt=\"select Cells_glyph\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>A new Builtin object have appeared: <em>Extract: Cells Glyph</em>. Click on the eye in front of it.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 337px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 91.69139465875371%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAABkElEQVQ4y+2TzU7bQBhF/YR9hVaom4odi4oFT9BVl+2CJYINUqO26qYSKhJiAQSISdwG4YTEP5PESQlOHI8Tz6kdapQoDlV/2PVKVzPzae7RtUbWWm2B49hYtUu+lXXMaoVL44KRf4OSQybhgDi8W4OBv9Q9r4NwLDTSQRBxWK2zXzznyDA51KtctX1cf4x9K7H6EuFH/EqRDNH6Hwq8293nycYmL968ZfWTxep7k2c7ZZ5unbOyXeL5js7LgsF4EicxhVKLThUMB2jKdZOSQ/S1dUqvXmOUKhzsHVD8atIZTfASd/yQ7kDeB7M1U3YeBUO07/7t9OCIBsfFPUSlTFcvIY0KtFvQv5lNLsAWgI3rBmM5wfWafD4pUGva+KNg+nmy10M5LrHnobJgDnQOWG/2kBJEAvxy+pG6Wee6dsVJ8QxLiLvAz3bLNAcMw/B+EKs4/3IGm90vA46jaG6Y93rqgXYLwGgGmAf9K+Cf6j8wyn3d3/UjNkx/k3/ZsCNsvJaz1N3Ert2YuvvAvdQp6wdnW3IMaC7ISQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/8dc0f5881a3782fb69f82a6ca1901371/50512/paraview6.webp 163w,\n/static/8dc0f5881a3782fb69f82a6ca1901371/aeba0/paraview6.webp 325w,\n/static/8dc0f5881a3782fb69f82a6ca1901371/05b71/paraview6.webp 337w\"\n          sizes=\"(max-width: 337px) 100vw, 337px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/8dc0f5881a3782fb69f82a6ca1901371/19bd1/paraview6.png 163w,\n/static/8dc0f5881a3782fb69f82a6ca1901371/d3bcb/paraview6.png 325w,\n/static/8dc0f5881a3782fb69f82a6ca1901371/3e757/paraview6.png 337w\"\n          sizes=\"(max-width: 337px) 100vw, 337px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/8dc0f5881a3782fb69f82a6ca1901371/3e757/paraview6.png\"\n          alt=\"select Extract Cells_glyph\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>All cells appear on the screen!\nYou can now go to the <em>Catalyst</em> menu, and select <em>Continue</em>. The simulation will run the number of steps you specified in your code.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#paraview\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.927223719676554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACaklEQVQoz0WQy08TYRTFPzsUo2FBkNJiMZG40BgSl8REF4iPBS3Mo0zbebRSIJRpZ9pOOxSMCXv/H0IjJlIE6QsstMpDcPoAYjOlMNMScKE4BSM3J2dz7++emwt2t9O5nYy4u3Gwt1OWilKpoBxLx4cHciknSwW5vF+R8ieKdFo9PFXKdb/Qr1rlrFYBmY1scS9XVY5EMTc/H1tYiMdjq7HPKdXjibSqWCKdSK6nUpnEajaZXFtJrMWXV6Pzy0ufkuCrWCjL1fPz88WltAnxoFYfgnOI1W+BGWvfCGEatZtGcdg9CLvpF7TFwqI2vzrQb/HCgyz487tel3AfPI7aOAz3wnSQfPScA7fCWqPQaPRf7+Bu3GE1OnuPdYAIoLgXtXKqQE1RatV6cjSaMqEMZvNhOAvTIbqrJwiaOY2eudYa0Oh4oGMhPf6SQuow+w/ez4uF3K58+HN2NmpGPVg9mR2gQsP3n0yCFn+DIQjpp6B21ce1BusLEiH5Kzj7ZeX71je5UopEFvox7yWsJg89eOoFzaGG9hBkUFfwkH5Ce5vsJeALGLmEt7PrxfyPsxN57v3i/2R1gunsFkAL06AXIEMYMgga/VutkXzlgC/Otgx6cTIANjLpcungtFqJRKJm7Ap233scBs2TmrYg0AU1bQJonQI66pldbal/9jg5igqAzUy6mBercnlm5qMZc8O4B8YYs83n6urlG41jTZ2+xg53U+eI7qHn5l2qu99MBMyIe3R8mnAKYDO7Lu5sKUfSh7lFwiE4XGF6qC4HxdM0TzonKNJP233E8Bua4p10kHZNUq8FF/PONTb9Fz+TSiLBTTU0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/d72a1f3731c0e395baae06bc5d13d6d8/50512/paraview7-4.webp 163w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/aeba0/paraview7-4.webp 325w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/001d9/paraview7-4.webp 650w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/97fd0/paraview7-4.webp 975w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/05607/paraview7-4.webp 1300w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/82331/paraview7-4.webp 1855w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/d72a1f3731c0e395baae06bc5d13d6d8/19bd1/paraview7-4.png 163w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/d3bcb/paraview7-4.png 325w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/dbb61/paraview7-4.png 650w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/6b691/paraview7-4.png 975w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/91670/paraview7-4.png 1300w,\n/static/d72a1f3731c0e395baae06bc5d13d6d8/f6b82/paraview7-4.png 1855w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/d72a1f3731c0e395baae06bc5d13d6d8/dbb61/paraview7-4.png\"\n          alt=\"Cell display correct diam\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Even if live visualization is particularly useful to set or tune a simulation, it is capital to note that it also drastically slows down the simulation! One way to avoid this major problem is to export visualization files and read then after the modeling is done.</p>\n<p>In both cases, even if we can now visualize our cell, they have all the same color, which can be a bit confusing and doesn't allow us to visualize properly what is going on.</p>\n<h3 id=\"adding-layers-color\"><a href=\"#adding-layers-color\" aria-label=\"adding layers color permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding layers color</h3>\n<p>In this chapter, we will modify our code in order to create a better coloring for our simulation.\nA good idea would be to create a coloring depending on the layer of the cell. By this way, we could display several layers of cell, and have an other color for our cancerous cells.\nTo do that, we can extend the existing <code class=\"language-text\">Cell</code> class in order to add a new data member <code class=\"language-text\">cell_color</code>.\nWe will do that directly in our <code class=\"language-text\">tutorial.h</code> file by writing:</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// 0. Define my custom cell MyCell, which extends Cell by adding extra data</span>\n<span class=\"token comment\">// members: cell_color and can_divide</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyCell</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">public</span> Cell <span class=\"token punctuation\">{</span>  <span class=\"token comment\">// our object extends the Cell object</span>\n                              <span class=\"token comment\">// create the header with our new data member</span>\n  <span class=\"token function\">BDM_SIM_OBJECT_HEADER</span><span class=\"token punctuation\">(</span>MyCell<span class=\"token punctuation\">,</span> Cell<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> can_divide_<span class=\"token punctuation\">,</span> cell_color_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n <span class=\"token keyword\">public</span><span class=\"token operator\">:</span>\n  <span class=\"token function\">MyCell</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">explicit</span> <span class=\"token function\">MyCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> Double3<span class=\"token operator\">&amp;</span> position<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">Base</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/// If MyCell divides, daughter 2 copies the data members from the mother</span>\n  <span class=\"token function\">MyCell</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> Event<span class=\"token operator\">&amp;</span> event<span class=\"token punctuation\">,</span> SimObject<span class=\"token operator\">*</span> other<span class=\"token punctuation\">,</span> <span class=\"token keyword\">uint64_t</span> new_oid <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n      <span class=\"token operator\">:</span> <span class=\"token function\">Base</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">,</span> other<span class=\"token punctuation\">,</span> new_oid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> mother <span class=\"token operator\">=</span> <span class=\"token keyword\">dynamic_cast</span><span class=\"token operator\">&lt;</span>MyCell<span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>other<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      cell_color_ <span class=\"token operator\">=</span> mother<span class=\"token operator\">-></span>cell_color_<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/// If a cell divides, daughter keeps the same state from its mother.</span>\n  <span class=\"token keyword\">void</span> <span class=\"token function\">EventHandler</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> Event<span class=\"token operator\">&amp;</span> event<span class=\"token punctuation\">,</span> SimObject<span class=\"token operator\">*</span> other1<span class=\"token punctuation\">,</span>\n                    SimObject<span class=\"token operator\">*</span> other2 <span class=\"token operator\">=</span> <span class=\"token keyword\">nullptr</span><span class=\"token punctuation\">)</span> override <span class=\"token punctuation\">{</span>\n    Base<span class=\"token operator\">::</span><span class=\"token function\">EventHandler</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">,</span> other1<span class=\"token punctuation\">,</span> other2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">void</span> <span class=\"token function\">SetCellColor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> cell_color<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> cell_color_ <span class=\"token operator\">=</span> cell_color<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">int</span> <span class=\"token function\">GetCellColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> cell_color_<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">private</span><span class=\"token operator\">:</span>\n  <span class=\"token comment\">// declare new data member and define their type</span>\n  <span class=\"token comment\">// private data can only be accessed by public function and not directly</span>\n  <span class=\"token keyword\">int</span> cell_color_<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Each cell (implementing our new object <code class=\"language-text\">MyCell</code>) of the modelling is now able to have a value <code class=\"language-text\">cell_color_</code> that we will choose and use to display different colors!\nIn order to create cells with this attribute, we need to replace all <code class=\"language-text\">Cell</code> object by <code class=\"language-text\">MyCell</code> during cells creation (inside the <code class=\"language-text\">Simulate()</code> method). For example</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">// Cell* cell = new Cell({x_coord, y_coord, z_coord});</span>\nMyCell<span class=\"token operator\">*</span> cell <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">MyCell</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>x_coord<span class=\"token punctuation\">,</span> y_coord<span class=\"token punctuation\">,</span> z_coord<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now that we are creating cells of type <code class=\"language-text\">MyCell</code>, we can set the cancerous cell <code class=\"language-text\">cell_color_</code> value to 8 (so it will have a really distinct color from non cancerous cells). To do so, simply use the method SetCellColor() we created</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">cell<span class=\"token operator\">-></span><span class=\"token function\">SetCellColour</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Do the same for the regular cells, setting the value depending on the y axis value. One possibility is to write</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">cell<span class=\"token operator\">-></span><span class=\"token function\">SetCellColour</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>y_coord <span class=\"token operator\">/</span> param<span class=\"token operator\">-></span>max_bound_ <span class=\"token operator\">*</span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// will vary from 0 to 5. so 6 different layers depending on y_coord</span></code></pre></div>\n<p>This new simulation is now functional, however before running it, we need to tell BioDynaMo to communicate all <code class=\"language-text\">cell_color_</code> values. Do do that, we will modify the configuration file <code class=\"language-text\">bdm.toml</code> by modifying the <code class=\"language-text\">visualize_sim_object</code></p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>visualize_sim_object<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nname <span class=\"token operator\">=</span> <span class=\"token string\">\"MyCell\"</span>\nadditional_data_members <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"cell_color_\"</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<p>With those changes, we are now able to colorize our different layers. All you have to do, after displaying cells and creating the <em>Glyph</em> filter (chapter 3.1) is to select your <em>Glyph</em> filter and to select <code class=\"language-text\">cell_color_</code> in the <em>Coloring</em> section.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#adding-layers-color\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 340px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 99.11764705882354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAD60lEQVQ4y3VUWVsiSRDk//+W/Vx1HXVGx2NABBQ5mj7oA5q+b+gGhN2X2KiSedt9SLKorsqKjIzMVuja0GcT2gjK6B2ht4QzV9H99Yi3Xge9l1/SewsT6zz+X9sUCeoyRcu159CmHxi/96BOhkgjH2JvOHjF5GOAt34X4+EAPh8u0xDFycqT/f4feQsEroOWrowxeuvi463HwCOs+ZJ4cb8psF3n2NGaKvtCIdFEWGcRKmmhtIZ3BCiRYWu7KVHmKV+JUa9LbIRVBQLPRRrzQpljXRZ8KEMSBTybnfZy1DxX8pvjh9g3G55hymUaIVgt4S0d+PQiSJ5EsAwV7sJCHPrIuJfQL6y5PBP6K0TBStITBh5Uy0FFUFkcoCV+0iRBnqX43O/4eoE0TVDkOaqqpM+Q8Vue0XNfnPnn7yOOxwOOh0+53tVraLohH2jlScBUfJmOSKPME6IMkBGlQCr+C4QCeZbEko6GAZrNWlJUbypUpMNlhhJhEft4ait47bRxfXWBH9cX0nee7vHw4xoXZ3/g6vwMS0uHqkwwfB9AYyEtQ8PCMVl9F+qyC9efs0AJU448OKZFDm3YxkyaM9ekubYBXV6eURI2uV5IrmPyJ0zwKLj1PJOURFRDwZQJ0zBcDF47uL06x823S7n+/u0CdzdXuPt+TX9Jnfahqwo+iFA0gj3XsWTRgtUKMyKMM5cyq9ASqczGQyIZYUohv/deZErhymF3WLKyDk2gkVySa8FtloTShNwCijqnb6jZVrC0yM0YpqnBljyNYegzkk0tBi6m4w8Mh0P41OW+qXmpYkFOxvWWBRLBCspGBrQtDS93N+hfX2FC3zBgwxYs1QlyXUFO7nK2Vsrgib9EEvy3VRR1XQmE43dML8+hPf7E7OknQsdCxgFRmgYqTcGaCEtdRckLZRZLq05eGmVVsDm+OocBG/ZwwXQ1y4RDgsfKFOrcQH3YY0fR5pRF+drF57bBnib8drvDTqx3O7m3p9/WG2zKjDpkKvV0iqj/DKv7AG/QR6ER0UxB3GsjHrSJ2oDr2eTRxlJQ4E6QLAzy26HkFGiTNqttY0teW1I/jL5w55i+3MLuvaK0OfuYeriiPsMlXHpDn7K3DcxZuMx8Q6xP0B/2YZk6np9uYbL3xYBoaSzALTX3159nvKQynUqKND+Nq4bjalvEckStBX/pl1xEy4p1QR2LUSYmT80x17INBc8P93h+vIfJIoiPGXu75IWVR9FykohpYi5ENV1E7AzRz6IIv0dbyV4WXhYl8hxYlMeSUzoNV3KUiyrWRGWtfLRVFx3NxcjykMeenDzH41FOmuPhIO3A9ZYarVmUfwEIl6noTyFS+QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/ae877eefe621fc8af84890c82a4faddc/50512/paraview8.webp 163w,\n/static/ae877eefe621fc8af84890c82a4faddc/aeba0/paraview8.webp 325w,\n/static/ae877eefe621fc8af84890c82a4faddc/a7e55/paraview8.webp 340w\"\n          sizes=\"(max-width: 340px) 100vw, 340px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/ae877eefe621fc8af84890c82a4faddc/19bd1/paraview8.png 163w,\n/static/ae877eefe621fc8af84890c82a4faddc/d3bcb/paraview8.png 325w,\n/static/ae877eefe621fc8af84890c82a4faddc/6103d/paraview8.png 340w\"\n          sizes=\"(max-width: 340px) 100vw, 340px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/ae877eefe621fc8af84890c82a4faddc/6103d/paraview8.png\"\n          alt=\"Paraview select colour\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Well done, we can now visualize the different layers and the cancerous cell in red!</p>\n<p><a href=\"/docs/userguide/tumor_concept/#adding-layers-color\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 650px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.927223719676554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACGUlEQVQoz2WQy28SURSH5/8xJm6MiSbGx0IX5TFvpg8CaLDAzB1aSyRBqQmLNtQaNdoYows3/g+ipEgfDG1BCQTSCu0wPJp2eM7QVBcwDgMoicmXk5PfPd/JvRcqHPzg82m+kKuU8jWxJJ4IUkts1autE75dK7VqlYZYPGuL53J9nN+dxq9OA8rkMkKZl9oNni9GIlw0Go9zSW57Lx5L7HBJlTiX2NtJ/SWxm4rHkt8isa2NXShzKJw224qixLiMDqERkoUJVq0I6VYxEm64D2schqw2APQYbcQZSOn1ut2uJqcnYCdiAgipwsAEgxDM5BRjogBJAcLEDMJ+TjLaDIA6kiTLkqL0Nre+6xAXqslq1eOAtdPvF5nXT+bf+OfWHgObBRhwgJKD7ZpcFY6Oy4LcFEOhTT1Kj2RWj7o83kDw2Urw+cvA0uryyuq9Wa8BGw4M5f1MqiwU5Xb9c2jj35mJhXHntHOZfvpp1vfB7vto9byjbH4Yd2nPBvBAzqVT+f1cs3b8JRQdW8yipOsOHriOrt3EXt1AX9wi3upInxoOZAynyak56PAgW62WpeZp+Ov2+K0wE7h2233hsufS1YcXr6gs3DXMY1T/q4wEcJrBpCpnU8mKcHQuN8Lh2ATyACFoA+Ya4VQxqg3q7DPKdYjjvmORMi9AP7NpgS+cSY319Rg14zHbvDPWR0Ns/zUa0xaP1RG02P1/ADFnagzC/r37AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/303ff2ca48f84d0f427f84fd2d2df3e3/50512/paraview9.webp 163w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/aeba0/paraview9.webp 325w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/001d9/paraview9.webp 650w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/97fd0/paraview9.webp 975w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/05607/paraview9.webp 1300w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/82331/paraview9.webp 1855w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/303ff2ca48f84d0f427f84fd2d2df3e3/19bd1/paraview9.png 163w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/d3bcb/paraview9.png 325w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/dbb61/paraview9.png 650w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/6b691/paraview9.png 975w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/91670/paraview9.png 1300w,\n/static/303ff2ca48f84d0f427f84fd2d2df3e3/f6b82/paraview9.png 1855w\"\n          sizes=\"(max-width: 650px) 100vw, 650px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/303ff2ca48f84d0f427f84fd2d2df3e3/dbb61/paraview9.png\"\n          alt=\"Paraview colour layers\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>However, there is still a little problem. The attribute <code class=\"language-text\">cell_color_</code> is not transmitted to the daughter cell after a division. You can also notice that it is not really easy to see the cancerous cells. We will solve those issues in the next chapter.</p>\n<h3 id=\"playing-with-filters\"><a href=\"#playing-with-filters\" aria-label=\"playing with filters permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Playing with filters</h3>\n<p>Even if our cancerous cells transmit their color to their daughter, it still is not really easy to spot them in the middle of thousands of other cells. This problem can be solve using the threshold filter function of ParaView. To do that, after displaying cells color as at the end of 3.2, click on the threshold filter button. This filter will be applied to the currently selected <em>Pipeline Browser</em>, so pay attention to select the correct one (<em>Glyph1</em>) before creating the threshold filter.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#playing-with-filters\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 617px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 12.80388978930308%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxElEQVQI1x2N0U7CMABF9/+fYwy+KZIgCsFt6oC2a7uujG5OxzLl+Vh8uMm9ycm5iXYZn6HEVDu8lRyNQMXetQ3isGMYvrn8TEzjwNB3/E4jl+kcM9JH5uMtw1n9v69MkhZLrM1RMkW+PGC2S/xmhUs3qCIjWEGoJU1d0gdP352ofEPbGI61QGuJd5ounOJhS7LOF7wfVoj9GrmYIZ/v+ZrdIu9uKLdPmNdHVD5HijRKKkLj2ZurqECZAu1KnLO4uuIchX8Qktd4Eb5DuwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/2faa238aeb4de416ae2bead856c4fa3f/50512/paraview10.webp 163w,\n/static/2faa238aeb4de416ae2bead856c4fa3f/aeba0/paraview10.webp 325w,\n/static/2faa238aeb4de416ae2bead856c4fa3f/4e022/paraview10.webp 617w\"\n          sizes=\"(max-width: 617px) 100vw, 617px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/2faa238aeb4de416ae2bead856c4fa3f/19bd1/paraview10.png 163w,\n/static/2faa238aeb4de416ae2bead856c4fa3f/d3bcb/paraview10.png 325w,\n/static/2faa238aeb4de416ae2bead856c4fa3f/0794e/paraview10.png 617w\"\n          sizes=\"(max-width: 617px) 100vw, 617px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/2faa238aeb4de416ae2bead856c4fa3f/0794e/paraview10.png\"\n          alt=\"Paraview threshold filter\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>On the <em>Properties</em> menu, select the <em>Scalar</em> <em>cell\\</em>colour_<em>, put the minimum value at 7 and the maximum at 8 (so only the value of cancerous cell is selected) then click _Apply</em></p>\n<p><a href=\"/docs/userguide/tumor_concept/#playing-with-filters\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 341px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 80.64516129032259%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAADYElEQVQ4y3VUTXPiRhTU/7+mctrzViqHbLJeBy/r2GHXgMynQDJfkhDoeyQhhMAGA97qtERSlUpVDl1vZkp606/n9ZN8e47ZWIUxUTF5GkB4NszZCK3mN/Q7MtqPdQx6LfiOhSwJ/xd5GmGzEpCW5hQjtY9uq1H+GPpFwjHa8kOZUG4+QOk+wrctpJGPlfAu4Lrcl2c+PBILvSUkfaTiqdvBSFGwmE2xz9bIedNLvsIuS/BMbNfRhck6wW4dcx8ji4My4SYJkDEOSUZnpZIe6rgz7lEZVnA9vMEX4w525CB0HcQRP05XTLTCmiyErsHgpZZpIIlC7DZriDiGG5LANsOal0o9q49fuh/w7vM7/HD1I963f8LMMTCfTmAvTESBx8QhokLr+i3kBiXodeAs52QYYGnbMJY29YvK0qU4DBD4EZJ4jcP+iDTJEAmBOI6QrlZMJrgPIQqQzen4ivPpyG9f8PL8jOPrvmQ7nkzLC6SEAgvfKZGtYqRxeGEVCybxkSRRuY55XsQsS5HnG2y3ObHBLs/4MCFsyyw1lZLQxXhkodeWcX39EdXPn1C5vkK9WkHt6gPuP/2G339+D2vYw1BuQGvJ0B4bsMcawkISsvIDlzEkGTJ0FwYm2oAvpMFmUrdZx4JwHpsQ3TYCRp9IqFvS72Kl9MqYDPpYqQOk2hCi00K+tEodpYBij54U6HId+dd7pKMhjIcaFoMu+mynheficD5if3oljng5HrAnDrscB+p6cG0kmor84SvywIHkkaHB/llYBpbjIebdHpR6G8o3GY4sQ9Axdu0O45sK1I+/Qr/9gln1BqNqFdoft3BoiPVMLdlt0pglWzrUfhsqS7H0MSZugKbuoGW4sF1qQ8t51Gqu67TniK1kYWHq0A0d86WDyVJFTb+Bk5jYsWcli77tUOQxdTTJUDNt1NQ5akMTf6omROjRVguIKMLb9zecTiecz2e8nU/4zihogt6kBpE42KYJpKJdigeZaAqm1G9aDAieFUbfFHbjy2WJoAvYMizrAnFBcsGW7Va4phwOxc+WMWUihUNCwZDlu3RBMQCKloopdMSBUayLPlvzgv8ijX1s2Z/lK+f0aZFg0JX/njpNTpcW+u1mqW2H+w5HWIMd4LE18lSUSf49uor9Pwn/AiodgFrjFyRGAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/37232223737c553210d59497c21d4b29/50512/paraview11.webp 163w,\n/static/37232223737c553210d59497c21d4b29/aeba0/paraview11.webp 325w,\n/static/37232223737c553210d59497c21d4b29/6e69b/paraview11.webp 341w\"\n          sizes=\"(max-width: 341px) 100vw, 341px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/37232223737c553210d59497c21d4b29/19bd1/paraview11.png 163w,\n/static/37232223737c553210d59497c21d4b29/d3bcb/paraview11.png 325w,\n/static/37232223737c553210d59497c21d4b29/f570f/paraview11.png 341w\"\n          sizes=\"(max-width: 341px) 100vw, 341px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/37232223737c553210d59497c21d4b29/f570f/paraview11.png\"\n          alt=\"Paraview threshold filter scalar\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Finally, choose the <em>Coloring</em> mode <em>cell\\</em>colour__.</p>\n<p><a href=\"/docs/userguide/tumor_concept/#playing-with-filters\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 338px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 85.50295857988166%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAADXklEQVQ4y3VU2XLbRhDE/39KKqlEpVhUZDk6aJIiCYInABInAeK+QVqWnZdO7zpxqlyVh+bsLpZz9PSskp58HPQVDsYW+90aWRTAOeiYjp+hzV+gTkdYqi+IAxdtmf4vuiqTUCLfhr5WsZhNsFmqyOMQrmXQ4RDqbCyt+BYdXdR5jCqLCFqu5f4fJKFPeFD01RyL6RirxQzmdoWeUUTE177CpS0lzk3+LZNGrIvve+GwLRJ0ZYLtSsV2OYdybitGSFEVTLmpJHoiPgUoed7WJR1VaPIEua3DtS34roMyS3Bua5RViTBhAueWQVhyXaSIwyOiwENEW/CiOLPMHQLfRZ5EdJwhZ0nW8A6j4RM0dYajZ7P0BOEpxN47oq8LBomgiD8kSYyCf7pcziiLHKnY01Zl8X2f83tWFPjy9hl/ff2Ct8+veP10kfu2KqAbJh3GUMRPlpxkZueuQcOPYi0okNmWuSz9X3Qs83LucOk73m/lWtzxXFs2RxEyeXzeYjb+iD9urjD4/Qp3g2uMnh5wf/sOD+8HuLn+DZ5lYr3SJLZrjTxacOy9pMkIXhBF3jcO8zigTGwEvGCbW8mdSx06B4NnB6lJixoVOgx9ByfKJyafaRSycUdkQmauTnoyNqmEUrBc0/SZ4RDvrn7BHbOav4yY7TXe397g+eEeD/cD6Wilqdisl9htlrIprnNAQjUYxwmqOsWFalB824TOC/vdSgpbTIWYGiFSkZFr7eGxNJGRaGCeRihSNo3cC1tSTp67/y/DkJGEII31Qpa71ihwjmBf59LhUp1jvdRYXohPbEDPpojmnduG64bNaemYzWMzpUOHYzYePckyxdy+9rWchoYTUGUndpuWk1CmVEISovwR4px96DhFPaEcOW5L8rYmZ7Off0LGMSzVKerFHPVqgZrlF6yiZklC8D+i4bkQtJiws3DY8UWpHu9xmEzg6Aa02ZSPhZjpAm8Js/s4RDUZS9FL3RFd16MX616cUY+0PWnoWZlSkuQuCJCaGqwPN3A//ImODhttgXRLWDucAhth6EgcAwd1sEHqW3wQniktA/rykTxGDFbTIdXdU/Wmb0JbPcE0DDTiMeCjcIo540kA3zvA2u8oZhOWYyLXx4iNDYakx3H2uB38ivDokf8GfwMStcz4fzOpewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/d215fc59db84cadc4a3fbb4232d3ec43/50512/paraview12.webp 163w,\n/static/d215fc59db84cadc4a3fbb4232d3ec43/aeba0/paraview12.webp 325w,\n/static/d215fc59db84cadc4a3fbb4232d3ec43/975ef/paraview12.webp 338w\"\n          sizes=\"(max-width: 338px) 100vw, 338px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/d215fc59db84cadc4a3fbb4232d3ec43/19bd1/paraview12.png 163w,\n/static/d215fc59db84cadc4a3fbb4232d3ec43/d3bcb/paraview12.png 325w,\n/static/d215fc59db84cadc4a3fbb4232d3ec43/308c1/paraview12.png 338w\"\n          sizes=\"(max-width: 338px) 100vw, 338px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/d215fc59db84cadc4a3fbb4232d3ec43/308c1/paraview12.png\"\n          alt=\"Paraview threshold filter colouring\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>Great, we can now choose to display either all the cells, or just the cancerous cells by selecting either the <em>Glyph1</em> or the <em>Threshold1</em> in the <em>Pipeline Browser</em>!</p>\n<p><a href=\"/docs/userguide/tumor_concept/#playing-with-filters\"><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 341px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 95.89442815249267%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAAB6UlEQVQ4y82U32+TUBTH+Zd990Xf5pOPRh9NTPRhWaJxZhGbWNe5to61pgwobfk9YIwFKFx+tP16Qasug65NfPAk3wfgnu/9nHsOlzk7/oJOmwXX7+GsdwKu28G37lfYpgrftXDtmBu1XlPm8kMOjGdYuHIdTGQZAs9jLArgRyPMoxB5liJLyR+RBCSJazRHFAbwPRdMHMYoQzc0cMMeFEWFqmkIwxCEkEppmiJJEmR5gU2R0g0ZlRsimyfQHQ1H3X2YlFjTdRjWJSRKK4oiFFXF93MOpu1UiavV6o7KSOIIjMu2AJOeh6fjePAexlTGRBJQZKSWYp1c9y6J52AuBwO0WxwevGTxcP81Hn2Q8fhQwN6nKZ6wU/hxVi1e/kVSUTUZukcsRucS9t6e4unBOzxvT/CsxePFZwmv+iaitLhVZh3lLUPiB9WDYyjon3bg2wYUiYfvWOvljUa1hjNxjJx2z/VtfOwfYKZoVDMkabHx3BoNx4KONKeEnoHDzhvaVQmyLFFTFRfCBWzHuVPyRkPXukaxBEgaw7xSqvkrFQQBPM+j80d2MyRBhPtip5LjX035SbBsHNqtCeObYCuK7Qlvwv/eMGj84XfR78thTfgvgpSEoedjsVygyHMURYPy/N7vi6Kgl3KAHz7juVnYTralAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <picture>\n        <source\n          srcset=\"/static/a53c134cc89a8534b7052ec0548f9587/50512/paraview13.webp 163w,\n/static/a53c134cc89a8534b7052ec0548f9587/aeba0/paraview13.webp 325w,\n/static/a53c134cc89a8534b7052ec0548f9587/6e69b/paraview13.webp 341w\"\n          sizes=\"(max-width: 341px) 100vw, 341px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/a53c134cc89a8534b7052ec0548f9587/19bd1/paraview13.png 163w,\n/static/a53c134cc89a8534b7052ec0548f9587/d3bcb/paraview13.png 325w,\n/static/a53c134cc89a8534b7052ec0548f9587/f570f/paraview13.png 341w\"\n          sizes=\"(max-width: 341px) 100vw, 341px\"\n          type=\"image/png\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n          src=\"/static/a53c134cc89a8534b7052ec0548f9587/f570f/paraview13.png\"\n          alt=\"Paraview threshold display\"\n          title=\"\"\n        />\n      </picture>\n  </span></a></p>\n<p>This is of course just an example of what you can do with the threshold filters.</p>\n<h3 id=\"adding-some-complexity\"><a href=\"#adding-some-complexity\" aria-label=\"adding some complexity permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding some complexity</h3>\n<p>We now have all we want to visualize our modeling in the best conditions, but this modeling itself is a bit limited. We should add some movements to it as well as a new mechanism to complexity cell division.\nTo add cell movement, we will modify the <code class=\"language-text\">Run()</code> method of our biology module <code class=\"language-text\">GrowthModule</code>, and use the function <code class=\"language-text\">UpdatePosition()</code>. To generate the direction we will again use a random a random number generator.\nWe choose here to give stochastic movement only to growing cells, so we will write the movement just after the volume change</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">auto</span><span class=\"token operator\">*</span> random <span class=\"token operator\">=</span> Simulation<span class=\"token operator\">::</span><span class=\"token function\">GetActive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token function\">GetRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// create an array of 3 random numbers between -2 and 2</span>\nDouble3 cell_movements <span class=\"token operator\">=</span>\n    random<span class=\"token operator\">-></span><span class=\"token keyword\">template</span> UniformArray<span class=\"token operator\">&lt;</span><span class=\"token number\">3</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// update the cell mass location, ie move the cell</span>\ncell<span class=\"token operator\">-></span><span class=\"token function\">UpdatePosition</span><span class=\"token punctuation\">(</span>cell_movements<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Using the previous chapters, you should now be able to visualize cell movement during their growth.\nThis is great, but every cancerous cell grows and divides indefinitely, and that is a bit too much.\nWe will now add a mechanism to reduce the probability to divide, and assuring that a cancerous cell that didn't divide, will never divide any more.\nTo add a 0.8 probability to divide, simply write</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>random<span class=\"token operator\">-></span><span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  cell<span class=\"token operator\">-></span><span class=\"token function\">Divide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Cells will now have only 80% chance to divide. However, it will have 80% chance to divide at every simulation step! We want that if a cell doesn't divide, it will not be able to divide any more.\nTo do that, we will create a new <code class=\"language-text\">MyCell</code> boolean attribute called <code class=\"language-text\">can_divide_</code>, like we did for <code class=\"language-text\">cell_colour_</code> attribute (see chapter 3.2).</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token function\">BDM_SIM_OBJECT_HEADER</span><span class=\"token punctuation\">(</span>MyCell<span class=\"token punctuation\">,</span> Cell<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> can_divide_<span class=\"token punctuation\">,</span> cell_color_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>and create two methods, <code class=\"language-text\">SetCanDivide()</code> and <code class=\"language-text\">GetCanDivide()</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">void</span> <span class=\"token function\">SetCanDivide</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">bool</span> d<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> can_divide_ <span class=\"token operator\">=</span> d<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">bool</span> <span class=\"token function\">GetCanDivide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> can_divide_<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Then, like we did for <code class=\"language-text\">cell_colour_</code>, declare this data member as private</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">bool</span> can_divide_<span class=\"token punctuation\">;</span></code></pre></div>\n<p>In the event constructor add the following lines to set <code class=\"language-text\">can_divide_</code> to true\nin case of a <code class=\"language-text\">CellDivisionEvent</code></p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span><span class=\"token function\">GetId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> CellDivisionEvent<span class=\"token operator\">::</span>kEventId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// the daughter will be able to divide</span>\n  can_divide_ <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  can_divide_ <span class=\"token operator\">=</span> mother<span class=\"token operator\">-></span>can_divide_<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now that we got a new attribute <code class=\"language-text\">can_divide_</code>, we need to change the <code class=\"language-text\">Run()</code> method to prevent cells that failed the 80% test to divide again.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>cell<span class=\"token operator\">-></span><span class=\"token function\">GetCanDivide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> random<span class=\"token operator\">-></span><span class=\"token function\">Uniform</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  cell<span class=\"token operator\">-></span><span class=\"token function\">Divide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  cell<span class=\"token operator\">-></span><span class=\"token function\">SetCanDivide</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// this cell won't divide anymore</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Codes corresponding to this chapter is accessible <a href=\"https://github.com/BioDynaMo/biodynamo/tree/master/demo/tumor_concept\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<p>You now have all the BioDynaMo cell basic knowledge to construct your own modeling!</p>\n<h2 id=\"diffusion\"><a href=\"#diffusion\" aria-label=\"diffusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Diffusion</h2>\n<p>Coming soon.</p>","fields":{"slug":"/docs/userguide/tumor_concept/"},"timeToRead":14,"excerpt":"Written by Jean de MontignyIntroductionBioDynaMo is platform for computer simulations of biological dynamics. You can learn more about…","fileAbsolutePath":"/website/content/biodynamo/doc/user_guide/tumor_concept.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/userguide/tumor_concept/"}}}