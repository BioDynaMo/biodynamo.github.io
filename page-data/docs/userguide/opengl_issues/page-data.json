{"componentChunkName":"component---src-templates-markdown-post-js","path":"/docs/userguide/opengl_issues/","webpackCompilationHash":"a2e5be3033aa7887de0f","result":{"data":{"site":{"siteMetadata":{"siteUrl":"http://local:8000","title":"BioDynaMO Website","description":"Everything you need to know about biology simulations."}},"markdownRemark":{"frontmatter":{"title":"OpenGL Issues","date":"2019-01-01","date_pretty":"01 January, 2019","path":"/docs/userguide/opengl_issues/","meta_title":"BioDynaMo User Guide","meta_description":"This is the openGL issues page.","image":"","next":{"url":"/docs/userguide/opengl_issues/","title":"OpenGL Issues","description":"This is the openGL issues page."},"sidebar":"userguide","toc":true},"html":"<p>Turn on debugging output and run simulation again</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">export</span> LIBGL_DEBUG<span class=\"token operator\">=</span>verbose\n./simulation</code></pre></div>\n<p>Check OpenGL information:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">glxinfo | grep -i OpenGL</code></pre></div>\n<p>Driver information:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">lspci | grep -i &quot;vga compatible&quot;</code></pre></div>\n<h2 id=\"faulty-opengl-version-detection-with-software-renderer\"><a href=\"#faulty-opengl-version-detection-with-software-renderer\" aria-label=\"faulty opengl version detection with software renderer permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Faulty OpenGL version detection with software renderer</h2>\n<p><a href=\"https://python.develop-bugs.com/article/10118323/paraview+needs+higher+OpenGL+in+Mesa\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://python.develop-bugs.com/article/10118323/paraview+needs+higher+OpenGL+in+Mesa</a>\nWhen using llvmpipe/gallium with mesa, a software renderer, the OpenGL capabilities can be incorrectly detected. The simplest way to fix that is to force it :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">MESA_GL_VERSION_OVERRIDE=3.3 ./bin/paraview</code></pre></div>\n<p>Simulation output:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">...\nlibGL error: failed to open drm device: No such file or directory\nlibGL error: failed to load driver: i965\nlibGL: OpenDriver: trying /usr/lib64/dri/tls/swrast_dri.so\nlibGL: OpenDriver: trying /usr/lib64/dri/swrast_dri.so\nlibGL: Can&#39;t open configuration file /home/testuser/.drirc: No such file or directory.\nlibGL: Can&#39;t open configuration file /home/testuser/.drirc: No such file or directory.\nlibGL error: failed to open drm device: No such file or directory\nlibGL error: failed to load driver: i965\nlibGL: OpenDriver: trying /usr/lib64/dri/tls/swrast_dri.so\nlibGL: OpenDriver: trying /usr/lib64/dri/swrast_dri.so\nlibGL: Can&#39;t open configuration file /home/testuser/.drirc: No such file or directory.\nlibGL: Can&#39;t open configuration file /home/testuser/.drirc: No such file or directory.\nERROR: In /home/testuser/bdm-build-third-party/paraview/VTK/Rendering/OpenGL2/vtkOpenGLRenderWindow.cxx, line 793\nvtkXOpenGLRenderWindow (0x4ba2790): GL version 2.1 with the gpu_shader4 extension is not supported by your graphics driver but is required for the new OpenGL rendering backend.\t Please update your OpenGL driver. If you are using Mesa please make sure you have version 10.6.5 or later and make sure your driver in Mesa supports OpenGL 3.2.\n\nERROR: In /home/testuser/bdm-build-third-party/paraview/VTK/Rendering/OpenGL2/vtkShaderProgram.cxx, line 445\nvtkShaderProgram (0x4b93030): 1: #version 120\n...</code></pre></div>\n<p><code class=\"language-text\">glxinfo</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">glxinfo | grep -i OpenGL\nOpenGL vendor string: VMware, Inc.\nOpenGL renderer string: llvmpipe (LLVM 6.0, 256 bits)\nOpenGL version string: 2.1 Mesa 18.0.5\nOpenGL shading language version string: 1.30\nOpenGL extensions:\nOpenGL ES profile version string: OpenGL ES 2.0 Mesa 18.0.5\nOpenGL ES profile shading language version string: OpenGL ES GLSL ES 1.0.16\nOpenGL ES profile extensions:</code></pre></div>\n<h2 id=\"mount-host-graphics-card-to-container\"><a href=\"#mount-host-graphics-card-to-container\" aria-label=\"mount host graphics card to container permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mount host graphics card to container</h2>\n<p><a href=\"https://stackoverflow.com/questions/42438619/run-chromium-inside-container-libgl-error\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/42438619/run-chromium-inside-container-libgl-error</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># for intel cards</span>\ndocker run --device<span class=\"token operator\">=</span>/dev/dri:/dev/dri <span class=\"token punctuation\">..</span>.</code></pre></div>","fields":{"slug":"/docs/userguide/opengl_issues/"},"timeToRead":2,"excerpt":"Turn on debugging output and run simulation againCheck OpenGL information:Driver information:Faulty OpenGL version detection with softwareâ€¦","fileAbsolutePath":"/website/content/biodynamo/doc/user_guide/opengl_issues.md"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/userguide/opengl_issues/"}}}