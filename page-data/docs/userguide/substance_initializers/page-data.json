{"componentChunkName":"component---src-templates-markdown-post-js","path":"/docs/userguide/substance_initializers/","result":{"data":{"site":{"siteMetadata":{"siteUrl":"http://local:8000","title":"BioDynaMO Website","description":"Everything you need to know about biology simulations."}},"markdownRemark":{"frontmatter":{"title":"Substance Initialization","date":"2019-01-01","date_pretty":"01 January, 2019","path":"/docs/userguide/substance_initializers/","meta_title":"BioDynaMo User Guide","meta_description":"This is the substance initialization page.","image":"","next":{"url":"/docs/userguide/substance_initializers/","title":"Substance Initialization","description":"This is the substance initialization page."},"sidebar":"userguide","toc":true},"html":"<p>You might want to initialize the concentration of one or more of the substances\nin your simulation. In this tutorial we shal take a look on how to do so.</p>\n<h2 id=\"tutorial-by-example\" style=\"position:relative;\"><a href=\"#tutorial-by-example\" aria-label=\"tutorial by example permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tutorial by example</h2>\n<p>Go into the <code class=\"language-text\">test/system/substance_initialization/src</code> directory and open the source file\n<code class=\"language-text\">substance_initialization.h</code> in your favorite editor.</p>\n<h3 id=\"1-list-the-substances\" style=\"position:relative;\"><a href=\"#1-list-the-substances\" aria-label=\"1 list the substances permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. List the substance(s)</h3>\n<p>We start the code off by listing the substances we will use in our simulation in an enum\ndata structure. In this example we just create one substance.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">Substances</span> <span class=\"token punctuation\">{</span> kSubstance <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"2-specify-the-space-dimensions\" style=\"position:relative;\"><a href=\"#2-specify-the-space-dimensions\" aria-label=\"2 specify the space dimensions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Specify the space dimensions</h3>\n<p>We bound our space to keep things simple.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">param<span class=\"token operator\">-></span>bound_space <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\nparam<span class=\"token operator\">-></span>min_bound <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\nparam<span class=\"token operator\">-></span>max_bound <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"3-create-a-cell\" style=\"position:relative;\"><a href=\"#3-create-a-cell\" aria-label=\"3 create a cell permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Create a cell</h3>\n<p>We create one cell with diameter 10, at a random location</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">auto</span> construct <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> Double3<span class=\"token operator\">&amp;</span> position<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  Cell<span class=\"token operator\">*</span> cell <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token function\">Cell</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cell<span class=\"token operator\">-></span><span class=\"token function\">SetDiameter</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> cell<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token class-name\">ModelInitializer</span><span class=\"token operator\">::</span><span class=\"token function\">CreateAgentsRandom</span><span class=\"token punctuation\">(</span>param<span class=\"token operator\">-></span>min_bound<span class=\"token punctuation\">,</span> param<span class=\"token operator\">-></span>max_bound<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                                    construct<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"4-define-the-substances\" style=\"position:relative;\"><a href=\"#4-define-the-substances\" aria-label=\"4 define the substances permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Define the substance(s)</h3>\n<p>We define the diffusion parameters of the substance(s) in our simulation. We\nchoose a diffusion coefficient of 0.5, a decay constant 0f 0 and a resolution\nof 20.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token class-name\">ModelInitializer</span><span class=\"token operator\">::</span><span class=\"token function\">DefineSubstance</span><span class=\"token punctuation\">(</span>kSubstance<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Substance\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"5-initialize-the-substances\" style=\"position:relative;\"><a href=\"#5-initialize-the-substances\" aria-label=\"5 initialize the substances permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Initialize the substance(s)</h3>\n<p>Now comes the most important part of the tutorial: initializing our substance(s)\nconcentration values throught the space. We will use the function\n<code class=\"language-text\">ModelInitializer::InitializeSubstance</code> for this purpose.\nIn this example we initialize our substance according to a Gaussian distribution.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token class-name\">ModelInitializer</span><span class=\"token operator\">::</span><span class=\"token function\">InitializeSubstance</span><span class=\"token punctuation\">(</span>kSubstance<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Substance\"</span><span class=\"token punctuation\">,</span>\n                                      <span class=\"token function\">GaussianBand</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> Axis<span class=\"token operator\">::</span>kXAxis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Let's break this down. We first pass the substance enum id and name in the\nfunction in order to specify which substance we want to initialize. Then we\nsimply pass the model we want to initialize the substance with (we call these \"initializers\").\nIn this case we choose for a GaussianBand with a mean value of 0 along the\nx-axis, and a variance of 5.</p>\n<p>The result (visualized with ParaView) is the following:</p>\n<p><a href=\"/docs/userguide/substance_initializers/#5-initialize-the-substances\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.44171779141104%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVQoz2NgZdWDIDY2PU5OQw5OQy4uI04YycFhwMllyMkBEgey2dj04eqBiIGX1wSC+PhMBQUteHhMePnMgIhfwIKP3xzChomYCwlZcvMYw7UwiIhaQZComLWklJ2oqKWIiKmQsLGIiJmwsImQkDEciYqaS4jbSIpbw7UwSMs4QJCMrKOkjIOQpLOMcoSGUZmZ22xz15nGdp36FtXaxnkKmklyahGays72Bl5Sck4QLQxKKm5ApKzqLiPv4OGWV5y/JSX/THTRfZ+0m27x153ibzjE37KLuZFYeKcod4mRoa+nW4KKuhdEF4Omjg8Qaen6qmi4e3tkt9Ys629cOadt9aKebfP6D03rP9nSeLy54VRfwxoH+wR9kzA3nwIdPV+ILgYD4yAIMjQO0jMOUtP11dIPMrRIcPIsDA2rSYttaSyd3VQ+x8QyVtfQz8Qi0tI+1dAkEKKFwdw6Ao5s7KOt7aKsbCMtbcJNLYKNzIP1zcP0zCP0LcItbSJsHWKBasyswuHqGeyd4hyd4oCknWOck2uCk1uig3O8PQglOLgkOLrEQxBQytE13h6sEo4Y3DxTvPySPf1SXD1T3L1TPXxS3X1SPX3TQQzvVDevFCCCiEPYyIjBNygLK/ILzgYi/xAowqoGAB/SqKMWXXktAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/7db4d48e7bd04576b386d902a2ac6550/94563/gaussian_band.webp 163w,\n/static/7db4d48e7bd04576b386d902a2ac6550/647a8/gaussian_band.webp 325w,\n/static/7db4d48e7bd04576b386d902a2ac6550/c1dc5/gaussian_band.webp 650w,\n/static/7db4d48e7bd04576b386d902a2ac6550/1e975/gaussian_band.webp 975w,\n/static/7db4d48e7bd04576b386d902a2ac6550/063bf/gaussian_band.webp 1300w,\n/static/7db4d48e7bd04576b386d902a2ac6550/9ade6/gaussian_band.webp 1726w\"\n              sizes=\"(max-width: 650px) 100vw, 650px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/7db4d48e7bd04576b386d902a2ac6550/222b7/gaussian_band.png 163w,\n/static/7db4d48e7bd04576b386d902a2ac6550/ff46a/gaussian_band.png 325w,\n/static/7db4d48e7bd04576b386d902a2ac6550/a6d36/gaussian_band.png 650w,\n/static/7db4d48e7bd04576b386d902a2ac6550/e548f/gaussian_band.png 975w,\n/static/7db4d48e7bd04576b386d902a2ac6550/3c492/gaussian_band.png 1300w,\n/static/7db4d48e7bd04576b386d902a2ac6550/e7aec/gaussian_band.png 1726w\"\n            sizes=\"(max-width: 650px) 100vw, 650px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/7db4d48e7bd04576b386d902a2ac6550/a6d36/gaussian_band.png\"\n            alt=\"GaussianBand\"\n            title=\"GaussianBand\"\n            loading=\"lazy\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></a></p>\n<h2 id=\"creating-a-custom-substance-initializer\" style=\"position:relative;\"><a href=\"#creating-a-custom-substance-initializer\" aria-label=\"creating a custom substance initializer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Creating a custom substance initializer</h2>\n<p>In this tutorial you have seen how to initialize a substance's concentration\nvalues with the <code class=\"language-text\">GaussianBand</code> initializer. Of course this is not the only\nmodel to initialize a substance with. We have several predefined initializers\navailable in BioDynaMo, and you can create your own.</p>\n<p>Let's take a look at an existing substance initializer.</p>\n<h3 id=\"option-1-functors\" style=\"position:relative;\"><a href=\"#option-1-functors\" aria-label=\"option 1 functors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Option 1: Functors</h3>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">GaussianBand</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">double</span> mean_<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">double</span> sigma_<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">uint8_t</span> axis_<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">GaussianBand</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> mean<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> sigma<span class=\"token punctuation\">,</span> <span class=\"token keyword\">uint8_t</span> axis<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    mean_ <span class=\"token operator\">=</span> mean<span class=\"token punctuation\">;</span>\n    sigma_ <span class=\"token operator\">=</span> sigma<span class=\"token punctuation\">;</span>\n    axis_ <span class=\"token operator\">=</span> axis<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">double</span> <span class=\"token keyword\">operator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> y<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> z<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>axis_<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> Axis<span class=\"token operator\">::</span>kXAxis<span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> ROOT<span class=\"token operator\">::</span><span class=\"token class-name\">Math</span><span class=\"token operator\">::</span><span class=\"token function\">normal_pdf</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> sigma_<span class=\"token punctuation\">,</span> mean_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">case</span> Axis<span class=\"token operator\">::</span>kYAxis<span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> ROOT<span class=\"token operator\">::</span><span class=\"token class-name\">Math</span><span class=\"token operator\">::</span><span class=\"token function\">normal_pdf</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> sigma_<span class=\"token punctuation\">,</span> mean_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">case</span> Axis<span class=\"token operator\">::</span>kZAxis<span class=\"token operator\">:</span> <span class=\"token keyword\">return</span> ROOT<span class=\"token operator\">::</span><span class=\"token class-name\">Math</span><span class=\"token operator\">::</span><span class=\"token function\">normal_pdf</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">,</span> sigma_<span class=\"token punctuation\">,</span> mean_<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token keyword\">throw</span> std<span class=\"token operator\">::</span><span class=\"token function\">logic_error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"You have chosen an non-existing axis!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The above code is what is called a 'functor' in C++. Here it basically describes\nthe model or operation that you want to perform on the entire diffusion space.\nIn the constructor we save the mean, variance and orientation axis, so that this\ninitializer can be used generically. The operator tells BioDynaMo what the concentration\nvalue should be for x, y, and z. BioDynaMo will make sure that your operator is\nexecuted over the whole simulation space. In this example we make use of a function\nthat models the normal (i.e. Gaussian) probability density function.</p>\n<h3 id=\"option-2-lambdas\" style=\"position:relative;\"><a href=\"#option-2-lambdas\" aria-label=\"option 2 lambdas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Option 2: Lambdas</h3>\n<p>Functors are nice if you want to create a generic model that you can apply for\nseveral input variables (e.g. different means, sigmas in the above example).\nBut you might want to just keep it short and simple; in which case lambdas are\nnice to use. We can accomplish exactly the same result as the above example with\nthe following lambda:</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">auto</span> gaussian_band <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> x<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> y<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> z<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> ROOT<span class=\"token operator\">::</span><span class=\"token class-name\">Math</span><span class=\"token operator\">::</span><span class=\"token function\">normal_pdf</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Much simpler right? As you can see we have hard-coded some of the variables that\nwe had generalized in our functor. So depending on your use case or preference,\nlambdas might be the way to go.</p>","fields":{"slug":"/docs/userguide/substance_initializers/"},"timeToRead":3,"excerpt":"You might want to initialize the concentration of one or more of the substances\nin your simulation. In this tutorial we shal take a look on…","fileAbsolutePath":"/website/content/biodynamo/doc/user_guide/substance_initializers.md"}},"pageContext":{"slug":"/docs/userguide/substance_initializers/"}},"staticQueryHashes":[]}